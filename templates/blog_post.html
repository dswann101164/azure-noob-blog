{% extends "base.html" %}

{% block content %}
<article class="post">

  {# HERO IMAGE #}
  {% if cover %}
    {% set cover_url = cover if cover.startswith('/') else url_for('static', filename='images/hero/' ~ cover) %}
    <div class="hero">
      <img src="{{ cover_url }}" alt="{{ post.title }}">
    </div>
  {% endif %}

  <header class="post-header">
    <h1>{{ post.title }}</h1>
    <p class="muted">{{ post.date|ymd }} Â· {{ reading_min }} min read</p>
    {% if post.summary %}
      <p class="summary">{{ post.summary }}</p>
    {% endif %}
  </header>

  {# ---- MAIN POST BODY ---- #}
  <div class="post-body">
    {{ content|safe }}
  </div>

  {# ---- PREV/NEXT ---- #}
  <nav class="post-nav">
    {% if prev_post %}
      <a href="{{ url_for('blog_post', slug=prev_post.slug) }}">&larr; {{ prev_post.title }}</a>
    {% endif %}
    {% if next_post %}
      <a href="{{ url_for('blog_post', slug=next_post.slug) }}">{{ next_post.title }} &rarr;</a>
    {% endif %}
  </nav>

</article>
{% endblock %}
