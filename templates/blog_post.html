{% extends "base.html" %}

{% block content %}
<article class="post">

  {# ----- HERO IMAGE ----- #}
  {% if post.cover %}
    {% if post.cover.startswith('/') %}
      {% set cover_url = post.cover %}
    {% elif post.cover.startswith('images/') or post.cover.startswith('img/') %}
      {% set cover_url = url_for('static', filename=post.cover) %}
    {% else %}
      {% set cover_url = url_for('static', filename='images/' ~ post.cover) %}
    {% endif %}
    <div class="hero">
      <img src="{{ cover_url }}" alt="{{ post.title }}">
    </div>
  {% endif %}

  {# ----- POST TITLE + META ----- #}
  <header>
    <h1 class="post-title">{{ post.title }}</h1>
    <p class="meta">
      {{ post.date|ymd }} Â· {{ post.read_time }} min read
    </p>
  </header>

  {# ----- POST BODY (markdown) ----- #}
  <div class="post-body">
    {{ post.body|safe }}
  </div>

</article>
{% endblock %}
