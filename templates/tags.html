{% extends "base.html" %}

{% block title %}{{ tag }} - Azure Noob{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold text-gray-800 mb-6">{{ tag }}</h1>
    
    {% if tag_data %}
    {# Rich content section for SEO #}
    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
        <div class="prose max-w-none">
            {{ tag_data.description | safe }}
        </div>
        
        {% if tag_data.cta_title %}
        <div class="mt-6 p-4 bg-blue-50 border-l-4 border-blue-600 rounded">
            <h3 class="text-lg font-semibold text-gray-800 mb-2">{{ tag_data.cta_title }}</h3>
            <a href="{{ tag_data.cta_url }}" class="inline-block bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition-colors">
                {{ tag_data.cta_text }}
            </a>
        </div>
        {% endif %}
    </div>
    {% endif %}
    
    {# Posts list #}
    <div class="mb-6">
        <h2 class="text-2xl font-bold text-gray-800 mb-4">All {{ tag }} Posts ({{ posts|length }})</h2>
    </div>
    
    {% if posts %}
        <div class="space-y-6">
            {% for post in posts %}
            <article class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow">
                <h2 class="text-xl font-semibold mb-2">
                    <a href="{{ url_for('blog_post', slug=post.slug) }}" class="text-blue-600 hover:text-blue-800">
                        {{ post.title }}
                    </a>
                </h2>
                
                {% if post.date %}
                <p class="text-gray-500 text-sm mb-3">{{ post.date.strftime('%B %d, %Y') }}</p>
                {% endif %}
                
                {% if post.summary %}
                <p class="text-gray-700 mb-3">{{ post.summary }}</p>
                {% endif %}
                
                {% if post.tags %}
                <div class="flex flex-wrap gap-2">
                    {% for tag_name in post.tags %}
                    <a href="{{ url_for('tag_posts', tag=tag_name|lower|replace(' ', '-')) }}" 
                       class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm hover:bg-blue-200 transition-colors">
                        {{ tag_name }}
                    </a>
                    {% endfor %}
                </div>
                {% endif %}
            </article>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-gray-600">No posts found with this tag.</p>
    {% endif %}
    
    <div class="mt-8">
        <a href="{{ url_for('tags_index') }}" class="text-blue-600 hover:text-blue-800">‚Üê View all tags</a>
    </div>
</div>
{% endblock %}
