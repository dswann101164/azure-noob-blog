<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  
  
  

  <!-- Primary SEO -->
  <title>4 Logic Apps That Save Azure Admins 10 Hours/Week (2025 Automation Guide) Â· Azure Noob</title>
  <meta name="description" content="Stop wasting 10+ hours per week on manual Azure operations. These 4 production-tested Logic Apps automate unused resource cleanup ($4K/month savings),...">
  
  <link rel="canonical" href="https://azure-noob.com/blog/four-logic-apps-every-azure-admin-needs/" />

  <!-- Favicons -->
  <link rel="icon" href="/static/images/logo.png">

  <!-- Open Graph -->
  <meta property="og:title" content="4 Logic Apps That Save Azure Admins 10 Hours/Week (2025 Automation Guide)">
  <meta property="og:description" content="Stop wasting 10+ hours per week on manual Azure operations. These 4 production-tested Logic Apps automate unused resource cleanup ($4K/month savings),...">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://azure-noob.com/blog/four-logic-apps-every-azure-admin-needs/">
  <meta property="og:image" content="https://azure-noob.com/static/images/hero/logic-apps-automation.svg">

  
    <meta property="article:published_time" content="2025-10-29T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-12-18T00:00:00+00:00">
    <meta property="article:author" content="David Swann">
    
      
        <meta property="article:tag" content="Azure">
      
        <meta property="article:tag" content="Logic Apps">
      
        <meta property="article:tag" content="Automation">
      
        <meta property="article:tag" content="Operations">
      
        <meta property="article:tag" content="Cost Management">
      
        <meta property="article:tag" content="Governance">
      
        <meta property="article:tag" content="FinOps">
      
    
  

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="4 Logic Apps That Save Azure Admins 10 Hours/Week (2025 Automation Guide)">
  <meta name="twitter:description" content="Stop wasting 10+ hours per week on manual Azure operations. These 4 production-tested Logic Apps automate unused resource cleanup ($4K/month savings),...">
  <meta name="twitter:image" content="https://azure-noob.com/static/images/hero/logic-apps-automation.svg">

  <!-- Styles -->
  <link rel="stylesheet" href="/static/styles.css">

  <!-- RSS Feed -->
  <link rel="alternate" type="application/rss+xml" title="Azure Noob RSS Feed" href="https://azure-noob.com/rss.xml">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZNHGEB0BNZ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-ZNHGEB0BNZ');
  </script>
</head>
<body>
  <header class="site-header">
    <div class="wrap nav-wrap">
      <div class="brand-block">
        <a href="/" class="brand-link">
          <img src="/static/images/logo.png" alt="Azure Noob logo" class="logo">
        </a>
        <span class="brand-text">
          <small>Official Website of</small>
          <strong>Azure Noob</strong>
        </span>
      </div>
      <nav class="nav">
        <a href="/">Home</a>
        <a href="/blog/">Blog</a>
        <a href="/hubs/" style="font-weight: 700;">Content Hubs</a>
        <a href="/products/" style="font-weight: 700; color: #ff6b6b;">Products</a>
        <a href="/start-here/">Start Here</a>
        <a href="/blog/starter-kit/">Starter Kit</a>
        <a href="/about/">About</a>
        <a href="/tags/">Tags</a>
        <a href="https://github.com/dswann101164" target="_blank" rel="noopener">GitHub</a>
        <a href="/search/">Search</a>
      </nav>
    </div>
  </header>

  <main class="site-content">
    <div class="wrap">
      


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "4 Logic Apps That Save Azure Admins 10 Hours/Week (2025 Automation Guide)",
  "description": "Stop wasting 10+ hours per week on manual Azure operations. These 4 production-tested Logic Apps automate unused resource cleanup ($4K/month savings),...",
  "image": {
    "@type": "ImageObject",
    "url": "https://azure-noob.com/static/images/hero/logic-apps-automation.svg",
    "width": 1200,
    "height": 630
  },
  "author": {
    "@type": "Person",
    "name": "David Swann",
    "url": "https://azure-noob.com/about/",
    "description": "Azure Architect specializing in enterprise cloud infrastructure",
    "jobTitle": "Azure Architect",
    "worksFor": {
      "@type": "Organization",
      "name": "Synovus"
    }
  },
  "publisher": {
    "@type": "Organization",
    "name": "Azure Noob",
    "url": "https://azure-noob.com",
    "logo": {
      "@type": "ImageObject",
      "url": "https://azure-noob.com/static/images/logo.png"
    }
  },
  "datePublished": "2025-10-29T00:00:00+00:00",
  "dateModified": "2025-12-18T00:00:00+00:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://azure-noob.com/blog/four-logic-apps-every-azure-admin-needs/"
  },
  "keywords": "Azure, Logic Apps, Automation, Operations, Cost Management, Governance, FinOps",
  "articleSection": "Azure",
  "wordCount": "4097",
  "timeRequired": "PT20M",
  "inLanguage": "en-US",
  "isAccessibleForFree": "True",
  "about": {
    "@type": "Thing",
    "name": "Azure"
  }
}
</script>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://azure-noob.com"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Blog",
      "item": "https://azure-noob.com/blog/"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "4 Logic Apps That Save Azure Admins 10 Hours/Week (2025 Automation Guide)",
      "item": "https://azure-noob.com/blog/four-logic-apps-every-azure-admin-needs/"
    }
  ]
}
</script>







<article class="post">

  
  
    
    <div class="hero">
      <img src="/static/images/hero/logic-apps-automation.svg" alt="4 Logic Apps That Save Azure Admins 10 Hours/Week (2025 Automation Guide)" loading="eager">
    </div>
  

  <header class="post-header">
    <h1>4 Logic Apps That Save Azure Admins 10 Hours/Week (2025 Automation Guide)</h1>
    <p class="muted">
      2025-10-29 Â· ~20 min read
      
        Â· Updated 2025-12-18
      
    </p>
    
    
    <ul class="tags-list">
      
      <li><a href="/tags/Azure/" class="tag-badge">Azure</a></li>
      
      <li><a href="/tags/Logic%20Apps/" class="tag-badge">Logic Apps</a></li>
      
      <li><a href="/tags/Automation/" class="tag-badge">Automation</a></li>
      
      <li><a href="/tags/Operations/" class="tag-badge">Operations</a></li>
      
      <li><a href="/tags/Cost%20Management/" class="tag-badge">Cost Management</a></li>
      
      <li><a href="/tags/Governance/" class="tag-badge">Governance</a></li>
      
      <li><a href="/tags/FinOps/" class="tag-badge">FinOps</a></li>
      
    </ul>
    
    
    
      <p class="summary">Stop wasting 10+ hours per week on manual Azure operations. These 4 production-tested Logic Apps automate unused resource cleanup ($4K/month savings), certificate monitoring (zero outages), tag enforcement (FinOps compliance), and backup verification. Complete deployment scripts and ROI calculator included.</p>
    
  </header>

  
  <p class="post-actions" style="margin:.5rem 0 0; text-align: center;">
    <button class="btn"
            onclick="window.print(); return false;"
            title="Print this page"
            aria-label="Print this page"
            style="cursor: pointer; background: none; border: 2px solid var(--azure-blue);">
      ğŸ–¨ï¸ Print this page
    </button>
  </p>

  
  <div class="post-body">
    <h2>How to Save 10+ Hours Per Week on Azure Operations</h2>
<p>Azure admins managing enterprise environments spend 10-15 hours per week on repetitive operational tasks: checking for orphaned disks, monitoring certificate expiration, enforcing tag compliance, and verifying backup success. These tasks are critical but mindlessâ€”perfect candidates for automation.</p>
<p>This guide provides 4 production-tested Logic Apps that eliminate these manual operations entirely. Deployed across 44 Azure subscriptions managing 31,000+ resources, these automation workflows deliver measurable time savings and cost recovery:</p>
<p><strong>Unused Resource Cleanup</strong> - Identifies orphaned disks, old snapshots, and unattached NICs. Recovered $4,200/month in wasted spend. Time saved: 3 hours/week.</p>
<p><strong>Certificate Expiration Monitor</strong> - Daily scans of App Service and Key Vault certificates with 30/15/7-day alerts. Prevented 100% of certificate-related outages. Time saved: 2-4 hours per avoided incident.</p>
<p><strong>Tag Compliance Enforcement</strong> - Automated detection and owner notification for missing required tags. Enables accurate cost allocation and FinOps reporting. Time saved: 10+ hours/week.</p>
<p><strong>Backup Verification Report</strong> - Daily confirmation that Recovery Services Vault backups succeeded. Surfaces failures within 24 hours instead of during restore attempts. Time saved: 4+ hours per backup crisis avoided.</p>
<p>Each Logic App includes complete deployment scripts, KQL queries, and configuration instructions. Total cost: Less than $1/month. Total time saved: 10-15 hours/week. ROI: Immediate and massive.</p>
<p>This guide is part of our <a href="/hub/automation/">Azure Automation hub</a> covering Infrastructure as Code, CI/CD pipelines, and DevOps practices.</p>
<hr />
<p>Everyone writes about Logic Apps for business process automation. SaaS integration. Order processing.</p>
<p>Nobody writes about the <strong>boring operational tasks</strong> Azure admins deal with daily.</p>
<p>This post delivers 4 working Logic App implementations:</p>
<ol>
<li><strong>Unused Resource Cleanup</strong> - Stop paying for orphaned disks and stale snapshots</li>
<li><strong>Certificate Expiration Monitor</strong> - Know before services break at 2 AM</li>
<li><strong>Tag Compliance Enforcement</strong> - Make governance actually stick  </li>
<li><strong>Backup Verification Report</strong> - Backups fail silently until you need them</li>
</ol>
<p>These run in production managing 31,000+ resources across 44 subscriptions.</p>
<h2>Why These 4</h2>
<p>Here's what actually breaks in production:</p>
<p><strong>Cost Waste</strong><br />
- Disks detached from deleted VMs (still billing)<br />
- Snapshots from 2 years ago<br />
- Old NICs consuming IP addresses<br />
- Result: Thousands/month wasted</p>
<p><strong>Certificate Expiration</strong><br />
- App Service certs expire<br />
- Key Vault certs expire<br />
- App Registration secrets expire<br />
- Result: 2 AM outages</p>
<p><strong>Tag Chaos</strong><br />
- 5,000 untagged resources<br />
- Chargeback fails<br />
- Cost allocation impossible<br />
- Result: Finance can't trust Azure reporting</p>
<p><strong>Backup Failures</strong><br />
- Recovery Services Vault runs daily<br />
- Some VMs fail silently<br />
- Nobody checks until restore needed<br />
- Result: No backup for 3 months</p>
<p>Let's fix them.</p>
<h2>Logic App #1: Unused Resource Cleanup</h2>
<p><strong>What It Does:</strong><br />
- Scans all subscriptions weekly<br />
- Identifies orphaned disks, old snapshots, unattached NICs<br />
- Sends digest with deletion candidates<br />
- Calculates potential savings</p>
<p><strong>Why It Matters:</strong><br />
When you delete a VM, Azure doesn't delete its disk. Or NIC. Or snapshots from 6 months ago.</p>
<p>Result: Hundreds of orphaned resources billing silently.</p>
<p>At 31,000 resources, this recovered <strong>$4,200/month</strong> in wasted spend.</p>
<h3>The Resource Graph Queries</h3>
<div class="codehilite"><pre><span></span><code><span class="c">// Orphaned Disks</span>
<span class="n">Resources</span><span class="w"> </span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">=~</span><span class="w"> </span><span class="s">&#39;microsoft.compute/disks&#39;</span><span class="w"> </span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">properties</span><span class="err">.</span><span class="n">diskState</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="s">&#39;Unattached&#39;</span><span class="w"> </span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">diskSizeGB</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">properties</span><span class="err">.</span><span class="n">diskSizeGB</span><span class="p">,</span>
<span class="w">         </span><span class="n">sku</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">properties</span><span class="err">.</span><span class="n">sku</span><span class="err">.</span><span class="n">name</span><span class="p">,</span>
<span class="w">         </span><span class="n">createdTime</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">properties</span><span class="err">.</span><span class="n">timeCreated</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">monthlyCost</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">case</span><span class="p">(</span>
<span class="w">    </span><span class="n">sku</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="s">&#39;Premium_LRS&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">diskSizeGB</span><span class="w"> </span><span class="p">*</span><span class="w"> </span><span class="mf">0.16</span><span class="p">,</span>
<span class="w">    </span><span class="n">sku</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="s">&#39;StandardSSD_LRS&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">diskSizeGB</span><span class="w"> </span><span class="p">*</span><span class="w"> </span><span class="mf">0.08</span><span class="p">,</span>
<span class="w">    </span><span class="n">diskSizeGB</span><span class="w"> </span><span class="p">*</span><span class="w"> </span><span class="mf">0.05</span>
<span class="w">  </span><span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">project</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">resourceGroup</span><span class="p">,</span><span class="w"> </span><span class="n">subscriptionId</span><span class="p">,</span>
<span class="w">          </span><span class="n">location</span><span class="p">,</span><span class="w"> </span><span class="n">diskSizeGB</span><span class="p">,</span><span class="w"> </span><span class="n">sku</span><span class="p">,</span><span class="w"> </span><span class="n">monthlyCost</span>
<span class="p">|</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">monthlyCost</span><span class="w"> </span><span class="n">desc</span>

<span class="c">// Old Snapshots (&gt;90 days)</span>
<span class="n">Resources</span><span class="w"> </span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">=~</span><span class="w"> </span><span class="s">&#39;microsoft.compute/snapshots&#39;</span><span class="w"> </span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">createdTime</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">properties</span><span class="err">.</span><span class="n">timeCreated</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">ageInDays</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">datetime_diff</span><span class="p">(</span><span class="s">&#39;day&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">now</span><span class="p">(),</span><span class="w"> </span><span class="n">todatetime</span><span class="p">(</span><span class="n">createdTime</span><span class="p">))</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">ageInDays</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">90</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">diskSizeGB</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">properties</span><span class="err">.</span><span class="n">diskSizeBytes</span><span class="w"> </span><span class="p">/</span><span class="w"> </span><span class="mi">1073741824</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">monthlyCost</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">diskSizeGB</span><span class="w"> </span><span class="p">*</span><span class="w"> </span><span class="mf">0.05</span>
<span class="p">|</span><span class="w"> </span><span class="k">project</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">resourceGroup</span><span class="p">,</span><span class="w"> </span><span class="n">ageInDays</span><span class="p">,</span><span class="w"> </span><span class="n">monthlyCost</span>
<span class="p">|</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">ageInDays</span><span class="w"> </span><span class="n">desc</span>

<span class="c">// Unattached NICs</span>
<span class="n">Resources</span><span class="w"> </span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">=~</span><span class="w"> </span><span class="s">&#39;microsoft.network/networkinterfaces&#39;</span><span class="w"> </span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">isnull</span><span class="p">(</span><span class="n">properties</span><span class="err">.</span><span class="n">virtualMachine</span><span class="p">)</span><span class="w"> </span>
<span class="w">  </span><span class="k">and</span><span class="w"> </span><span class="n">isnull</span><span class="p">(</span><span class="n">properties</span><span class="err">.</span><span class="n">privateEndpoint</span><span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">project</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">resourceGroup</span><span class="p">,</span><span class="w"> </span><span class="n">subscriptionId</span><span class="p">,</span>
<span class="w">          </span><span class="n">privateIP</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">properties</span><span class="err">.</span><span class="n">ipConfigurations</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="err">.</span><span class="n">properties</span><span class="err">.</span><span class="n">privateIPAddress</span>
</code></pre></div>

<h3>Deployment Steps</h3>
<div class="codehilite"><pre><span></span><code><span class="c"># Create Logic App</span>
<span class="nv">$resourceGroup</span> <span class="p">=</span> <span class="s2">&quot;rg-automation&quot;</span>
<span class="nv">$logicAppName</span> <span class="p">=</span> <span class="s2">&quot;la-unused-resource-cleanup&quot;</span>

<span class="n">az</span> <span class="n">logicapp</span> <span class="n">create</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$resourceGroup</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-location</span> <span class="n">eastus</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-name</span> <span class="nv">$logicAppName</span>

<span class="c"># Enable managed identity</span>
<span class="n">az</span> <span class="n">logicapp</span> <span class="n">identity</span> <span class="n">assign</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$resourceGroup</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-name</span> <span class="nv">$logicAppName</span>

<span class="c"># Assign Reader role</span>
<span class="nv">$principalId</span> <span class="p">=</span> <span class="p">(</span><span class="n">az</span> <span class="n">logicapp</span> <span class="n">identity</span> <span class="n">show</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$resourceGroup</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-name</span> <span class="nv">$logicAppName</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-query</span> <span class="n">principalId</span> <span class="n">-o</span> <span class="n">tsv</span><span class="p">)</span>

<span class="n">az</span> <span class="n">role</span> <span class="n">assignment</span> <span class="n">create</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-assignee</span> <span class="nv">$principalId</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-role</span> <span class="s2">&quot;Reader&quot;</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-scope</span> <span class="s2">&quot;/subscriptions/</span><span class="p">$(</span><span class="n">az</span> <span class="n">account</span> <span class="n">show</span> <span class="p">-</span><span class="n">-query</span> <span class="n">id</span> <span class="n">-o</span> <span class="n">tsv</span><span class="p">)</span><span class="s2">&quot;</span>
</code></pre></div>

<h3>Logic App Flow</h3>
<ol>
<li><strong>Trigger:</strong> Recurrence - Weekly (Monday 8 AM)</li>
<li><strong>HTTP:</strong> Query Resource Graph for orphaned disks</li>
<li><strong>HTTP:</strong> Query Resource Graph for old snapshots  </li>
<li><strong>HTTP:</strong> Query Resource Graph for unattached NICs</li>
<li><strong>Compose:</strong> Calculate total monthly cost</li>
<li><strong>Compose:</strong> Generate HTML report</li>
<li><strong>Send Email:</strong> Weekly digest to admins</li>
</ol>
<h3>Expected Output</h3>
<p>Every Monday at 8 AM:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Subject</span><span class="o">:</span><span class="w"> </span><span class="n">Weekly</span><span class="w"> </span><span class="n">Unused</span><span class="w"> </span><span class="n">Resource</span><span class="w"> </span><span class="n">Report</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Potential</span><span class="w"> </span><span class="n">Savings</span><span class="o">:</span><span class="w"> </span><span class="n">$4</span><span class="o">,</span><span class="mi">187</span>

<span class="n">SUMMARY</span>
<span class="err">Ã¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€Â</span>
<span class="n">Resource</span><span class="w"> </span><span class="n">Type</span><span class="w">           </span><span class="n">Count</span><span class="w">    </span><span class="n">Monthly</span><span class="w"> </span><span class="n">Cost</span>
<span class="err">Ã¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€Â</span>
<span class="n">Orphaned</span><span class="w"> </span><span class="n">Disks</span><span class="w">            </span><span class="mi">47</span><span class="w">       </span><span class="n">$3</span><span class="o">,</span><span class="mi">240</span>
<span class="n">Old</span><span class="w"> </span><span class="n">Snapshots</span><span class="w"> </span><span class="o">(&gt;</span><span class="mi">90</span><span class="n">d</span><span class="o">)</span><span class="w">     </span><span class="mi">156</span><span class="w">         </span><span class="n">$892</span>
<span class="n">Unattached</span><span class="w"> </span><span class="n">NICs</span><span class="w">           </span><span class="mi">23</span><span class="w">          </span><span class="n">N</span><span class="o">/</span><span class="n">A</span>
<span class="err">Ã¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€Â</span>
<span class="n">TOTAL</span><span class="w">                    </span><span class="mi">226</span><span class="w">       </span><span class="n">$4</span><span class="o">,</span><span class="mi">132</span>

<span class="n">TOP</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="n">ORPHANED</span><span class="w"> </span><span class="n">DISKS</span>
<span class="mi">1</span><span class="o">.</span><span class="w"> </span><span class="n">disk</span><span class="o">-</span><span class="n">old</span><span class="o">-</span><span class="n">prod</span><span class="o">-</span><span class="n">vm</span><span class="o">-</span><span class="mi">01</span><span class="w">    </span><span class="mi">512</span><span class="w"> </span><span class="n">GB</span><span class="w"> </span><span class="n">Premium</span><span class="w">    </span><span class="n">$81</span><span class="o">.</span><span class="mi">92</span><span class="o">/</span><span class="n">mo</span>
<span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="n">disk</span><span class="o">-</span><span class="n">backup</span><span class="o">-</span><span class="mi">2023</span><span class="w">      </span><span class="mi">1024</span><span class="w"> </span><span class="n">GB</span><span class="w"> </span><span class="n">Standard</span><span class="w">   </span><span class="n">$51</span><span class="o">.</span><span class="mi">20</span><span class="o">/</span><span class="n">mo</span>
<span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="n">disk</span><span class="o">-</span><span class="n">dev</span><span class="o">-</span><span class="n">archive</span><span class="w">       </span><span class="mi">256</span><span class="w"> </span><span class="n">GB</span><span class="w"> </span><span class="n">Premium</span><span class="w">    </span><span class="n">$40</span><span class="o">.</span><span class="mi">96</span><span class="o">/</span><span class="n">mo</span>
</code></pre></div>

<p><strong>Value:</strong> 3 hours/week saved, $4,000+/month recovered</p>
<hr />
<h2>Logic App #2: Certificate Expiration Monitor</h2>
<p><strong>What It Does:</strong><br />
- Scans App Service + Key Vault certificates daily<br />
- Alerts 30/15/7 days before expiration<br />
- Posts to Teams with severity color-coding<br />
- Includes owner information</p>
<p><strong>Why It Matters:</strong><br />
Certificate expiration is the #1 cause of preventable outages.</p>
<p>Services break at 2 AM. Nobody knows why. Certificate expired 4 hours ago.</p>
<p>This prevents that entire class of incident.</p>
<h3>The Certificate Query</h3>
<div class="codehilite"><pre><span></span><code><span class="c">// App Service Certificates</span>
<span class="n">Resources</span><span class="w"> </span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">=~</span><span class="w"> </span><span class="s">&#39;microsoft.web/certificates&#39;</span><span class="w"> </span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">expirationDate</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">todatetime</span><span class="p">(</span><span class="n">properties</span><span class="err">.</span><span class="n">expirationDate</span><span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">daysUntilExpiry</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">datetime_diff</span><span class="p">(</span><span class="s">&#39;day&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">expirationDate</span><span class="p">,</span><span class="w"> </span><span class="n">now</span><span class="p">())</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">daysUntilExpiry</span><span class="w"> </span><span class="p">&lt;=</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">daysUntilExpiry</span><span class="w"> </span><span class="p">&gt;=</span><span class="w"> </span><span class="mi">0</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">severity</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">case</span><span class="p">(</span>
<span class="w">    </span><span class="n">daysUntilExpiry</span><span class="w"> </span><span class="p">&lt;=</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;Critical&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">daysUntilExpiry</span><span class="w"> </span><span class="p">&lt;=</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;High&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s">&#39;Medium&#39;</span>
<span class="w">  </span><span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">project</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">resourceGroup</span><span class="p">,</span><span class="w"> </span><span class="n">expirationDate</span><span class="p">,</span>
<span class="w">          </span><span class="n">daysUntilExpiry</span><span class="p">,</span><span class="w"> </span><span class="n">severity</span><span class="p">,</span><span class="w"> </span><span class="n">tags</span>
<span class="p">|</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">daysUntilExpiry</span><span class="w"> </span><span class="n">asc</span>
</code></pre></div>

<h3>Deployment</h3>
<div class="codehilite"><pre><span></span><code><span class="nv">$logicAppName</span> <span class="p">=</span> <span class="s2">&quot;la-certificate-monitor&quot;</span>

<span class="n">az</span> <span class="n">logicapp</span> <span class="n">create</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$resourceGroup</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-location</span> <span class="n">eastus</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-name</span> <span class="nv">$logicAppName</span>

<span class="n">az</span> <span class="n">logicapp</span> <span class="n">identity</span> <span class="n">assign</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$resourceGroup</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-name</span> <span class="nv">$logicAppName</span>

<span class="nv">$principalId</span> <span class="p">=</span> <span class="p">(</span><span class="n">az</span> <span class="n">logicapp</span> <span class="n">identity</span> <span class="n">show</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$resourceGroup</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-name</span> <span class="nv">$logicAppName</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-query</span> <span class="n">principalId</span> <span class="n">-o</span> <span class="n">tsv</span><span class="p">)</span>

<span class="c"># Reader role</span>
<span class="n">az</span> <span class="n">role</span> <span class="n">assignment</span> <span class="n">create</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-assignee</span> <span class="nv">$principalId</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-role</span> <span class="s2">&quot;Reader&quot;</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-scope</span> <span class="s2">&quot;/subscriptions/</span><span class="p">$(</span><span class="n">az</span> <span class="n">account</span> <span class="n">show</span> <span class="p">-</span><span class="n">-query</span> <span class="n">id</span> <span class="n">-o</span> <span class="n">tsv</span><span class="p">)</span><span class="s2">&quot;</span>

<span class="c"># Key Vault Reader (if monitoring Key Vault certs)</span>
<span class="n">az</span> <span class="n">role</span> <span class="n">assignment</span> <span class="n">create</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-assignee</span> <span class="nv">$principalId</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-role</span> <span class="s2">&quot;Key Vault Reader&quot;</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-scope</span> <span class="s2">&quot;/subscriptions/</span><span class="p">$(</span><span class="n">az</span> <span class="n">account</span> <span class="n">show</span> <span class="p">-</span><span class="n">-query</span> <span class="n">id</span> <span class="n">-o</span> <span class="n">tsv</span><span class="p">)</span><span class="s2">&quot;</span>
</code></pre></div>

<h3>Teams Webhook Setup</h3>
<ol>
<li>Go to Teams channel Ã¢â€ â€™ Connectors</li>
<li>Add "Incoming Webhook"  </li>
<li>Name: "Certificate Alerts"</li>
<li>Copy webhook URL</li>
<li>Use in Logic App HTTP action</li>
</ol>
<h3>Logic App Flow</h3>
<ol>
<li><strong>Trigger:</strong> Recurrence - Daily at 6 AM</li>
<li><strong>HTTP:</strong> Query App Service certificates</li>
<li><strong>HTTP:</strong> Query Key Vault certificates  </li>
<li><strong>Parse:</strong> Group by severity</li>
<li><strong>Compose:</strong> Teams Adaptive Card</li>
<li><strong>HTTP:</strong> Post to Teams webhook</li>
</ol>
<h3>Expected Output</h3>
<p>Daily Teams notification:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Ã°Å¸</span><span class="err">â€Â´</span><span class="w"> </span><span class="n">CRITICAL</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="n">expiring</span><span class="w"> </span><span class="k">within</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="n">days</span>

<span class="n">CRITICAL</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="n">days</span><span class="p">)</span><span class="err">:</span>
<span class="n">Ã°Å¸</span><span class="err">â€Â´</span><span class="w"> </span><span class="n">app</span><span class="o">-</span><span class="n">prod</span><span class="o">-</span><span class="n">ssl</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">App</span><span class="w"> </span><span class="n">Service</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">days</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">@john</span><span class="p">.</span><span class="n">smith</span>
<span class="n">Ã°Å¸</span><span class="err">â€Â´</span><span class="w"> </span><span class="n">api</span><span class="o">-</span><span class="n">auth</span><span class="o">-</span><span class="n">cert</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Key</span><span class="w"> </span><span class="n">Vault</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="n">days</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">@jane</span><span class="p">.</span><span class="n">doe</span>

<span class="n">HIGH</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;</span><span class="w"> </span><span class="mi">15</span><span class="w"> </span><span class="n">days</span><span class="p">)</span><span class="err">:</span>
<span class="n">Ã°Å¸Å¸</span><span class="w">Â  </span><span class="n">api</span><span class="o">-</span><span class="n">backend</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Key</span><span class="w"> </span><span class="n">Vault</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="n">days</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">@bob</span><span class="p">.</span><span class="n">jones</span>
<span class="n">Ã°Å¸Å¸</span><span class="w">Â  </span><span class="n">auth</span><span class="o">-</span><span class="n">service</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">App</span><span class="w"> </span><span class="n">Service</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="n">days</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">@alice</span>

<span class="n">MEDIUM</span><span class="w"> </span><span class="p">(</span><span class="o">&lt;</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="n">days</span><span class="p">)</span><span class="err">:</span>
<span class="n">Ã°Å¸Å¸</span><span class="err">Â¡</span><span class="w"> </span><span class="n">dev</span><span class="o">-</span><span class="n">wildcard</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Key</span><span class="w"> </span><span class="n">Vault</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">25</span><span class="w"> </span><span class="n">days</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">@charlie</span>
<span class="n">Ã°Å¸Å¸</span><span class="err">Â¡</span><span class="w"> </span><span class="n">test</span><span class="o">-</span><span class="n">ssl</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">App</span><span class="w"> </span><span class="n">Service</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">28</span><span class="w"> </span><span class="n">days</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">@diana</span>
</code></pre></div>

<p><strong>Value:</strong> Every cert-related outage prevented, 2-4 hours/incident saved</p>
<hr />
<h2>Logic App #3: Tag Compliance Enforcement</h2>
<p><strong>What It Does:</strong><br />
- Scans all resources daily for required tags<br />
- Groups non-compliant by owner<br />
- Emails resource owners with remediation links<br />
- Tracks compliance over time<br />
- Escalates repeat violations</p>
<p><strong>Why It Matters:</strong><br />
Without tag enforcement, FinOps dies.</p>
<p>Cost allocation fails. Chargeback fails. Backup policies fail.</p>
<p>At 31,000 resources, manual cleanup is impossible.</p>
<h3>The Tag Query</h3>
<div class="codehilite"><pre><span></span><code><span class="n">Resources</span><span class="w"> </span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">environmentTag</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tostring</span><span class="p">(</span><span class="n">tags</span><span class="p">[</span><span class="s">&#39;Environment&#39;</span><span class="p">]),</span>
<span class="w">         </span><span class="n">costCenterTag</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tostring</span><span class="p">(</span><span class="n">tags</span><span class="p">[</span><span class="s">&#39;CostCenter&#39;</span><span class="p">]),</span>
<span class="w">         </span><span class="n">ownerTag</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tostring</span><span class="p">(</span><span class="n">tags</span><span class="p">[</span><span class="s">&#39;Owner&#39;</span><span class="p">]),</span>
<span class="w">         </span><span class="n">applicationTag</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tostring</span><span class="p">(</span><span class="n">tags</span><span class="p">[</span><span class="s">&#39;Application&#39;</span><span class="p">])</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">isnull</span><span class="p">(</span><span class="n">environmentTag</span><span class="p">)</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">isempty</span><span class="p">(</span><span class="n">environmentTag</span><span class="p">)</span>
<span class="w">     </span><span class="k">or</span><span class="w"> </span><span class="n">isnull</span><span class="p">(</span><span class="n">costCenterTag</span><span class="p">)</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">isempty</span><span class="p">(</span><span class="n">costCenterTag</span><span class="p">)</span>
<span class="w">     </span><span class="k">or</span><span class="w"> </span><span class="n">isnull</span><span class="p">(</span><span class="n">ownerTag</span><span class="p">)</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">isempty</span><span class="p">(</span><span class="n">ownerTag</span><span class="p">)</span>
<span class="w">     </span><span class="k">or</span><span class="w"> </span><span class="n">isnull</span><span class="p">(</span><span class="n">applicationTag</span><span class="p">)</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">isempty</span><span class="p">(</span><span class="n">applicationTag</span><span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">project</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="n">resourceGroup</span><span class="p">,</span><span class="w"> </span><span class="n">subscriptionId</span><span class="p">,</span>
<span class="w">          </span><span class="n">ownerTag</span>
<span class="p">|</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">subscriptionId</span><span class="p">,</span><span class="w"> </span><span class="n">resourceGroup</span><span class="w"> </span><span class="n">asc</span>
</code></pre></div>

<h3>Deployment</h3>
<div class="codehilite"><pre><span></span><code><span class="nv">$logicAppName</span> <span class="p">=</span> <span class="s2">&quot;la-tag-compliance&quot;</span>

<span class="n">az</span> <span class="n">logicapp</span> <span class="n">create</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$resourceGroup</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-location</span> <span class="n">eastus</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-name</span> <span class="nv">$logicAppName</span>

<span class="n">az</span> <span class="n">logicapp</span> <span class="n">identity</span> <span class="n">assign</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$resourceGroup</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-name</span> <span class="nv">$logicAppName</span>

<span class="nv">$principalId</span> <span class="p">=</span> <span class="p">(</span><span class="n">az</span> <span class="n">logicapp</span> <span class="n">identity</span> <span class="n">show</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$resourceGroup</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-name</span> <span class="nv">$logicAppName</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-query</span> <span class="n">principalId</span> <span class="n">-o</span> <span class="n">tsv</span><span class="p">)</span>

<span class="c"># Reader for queries</span>
<span class="n">az</span> <span class="n">role</span> <span class="n">assignment</span> <span class="n">create</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-assignee</span> <span class="nv">$principalId</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-role</span> <span class="s2">&quot;Reader&quot;</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-scope</span> <span class="s2">&quot;/subscriptions/</span><span class="p">$(</span><span class="n">az</span> <span class="n">account</span> <span class="n">show</span> <span class="p">-</span><span class="n">-query</span> <span class="n">id</span> <span class="n">-o</span> <span class="n">tsv</span><span class="p">)</span><span class="s2">&quot;</span>

<span class="c"># Optional: Tag Contributor for automated remediation</span>
<span class="n">az</span> <span class="n">role</span> <span class="n">assignment</span> <span class="n">create</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-assignee</span> <span class="nv">$principalId</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-role</span> <span class="s2">&quot;Tag Contributor&quot;</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-scope</span> <span class="s2">&quot;/subscriptions/</span><span class="p">$(</span><span class="n">az</span> <span class="n">account</span> <span class="n">show</span> <span class="p">-</span><span class="n">-query</span> <span class="n">id</span> <span class="n">-o</span> <span class="n">tsv</span><span class="p">)</span><span class="s2">&quot;</span>
</code></pre></div>

<h3>Logic App Flow</h3>
<ol>
<li><strong>Trigger:</strong> Recurrence - Daily at 7 AM</li>
<li><strong>HTTP:</strong> Query all resources for missing tags</li>
<li><strong>Parse:</strong> Group by Owner tag</li>
<li><strong>For Each Owner:</strong></li>
<li>Compose personalized email</li>
<li>Include direct Portal links</li>
<li>Send with 7-day deadline</li>
<li><strong>Compose:</strong> Admin summary</li>
<li><strong>Send:</strong> Summary to admins</li>
</ol>
<h3>Expected Output</h3>
<p><strong>To Resource Owners:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nl">Subject</span><span class="p">:</span><span class="w"> </span><span class="n">Action</span><span class="w"> </span><span class="n">Required</span><span class="o">:</span><span class="w"> </span><span class="n">Tag</span><span class="w"> </span><span class="n">Compliance</span>

<span class="n">Hello</span><span class="w"> </span><span class="n">John</span><span class="w"> </span><span class="n">Smith</span><span class="p">,</span>

<span class="n">Resources</span><span class="w"> </span><span class="n">missing</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="n">tags</span><span class="o">:</span>

<span class="n">RESOURCE</span><span class="w">          </span><span class="n">GROUP</span><span class="w">           </span><span class="n">MISSING</span><span class="w"> </span><span class="n">TAGS</span><span class="w">           </span><span class="n">ACTION</span>
<span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span><span class="n">Ã¢</span><span class="err">â€Â</span>
<span class="n">vm</span><span class="o">-</span><span class="n">prod</span><span class="o">-</span><span class="n">app</span><span class="mo">-01</span><span class="w">    </span><span class="n">rg</span><span class="o">-</span><span class="n">production</span><span class="w">   </span><span class="n">CostCenter</span><span class="p">,</span><span class="w"> </span><span class="n">Owner</span><span class="w">      </span><span class="p">[</span><span class="n">Add</span><span class="w"> </span><span class="n">Tags</span><span class="p">]</span>
<span class="n">storage</span><span class="o">-</span><span class="n">backups</span><span class="w">   </span><span class="n">rg</span><span class="o">-</span><span class="n">storage</span><span class="w">      </span><span class="n">Environment</span><span class="p">,</span><span class="w"> </span><span class="n">App</span><span class="w">       </span><span class="p">[</span><span class="n">Add</span><span class="w"> </span><span class="n">Tags</span><span class="p">]</span>
<span class="n">sql</span><span class="o">-</span><span class="n">prod</span><span class="o">-</span><span class="n">db</span><span class="w">       </span><span class="n">rg</span><span class="o">-</span><span class="n">databases</span><span class="w">    </span><span class="n">CostCenter</span><span class="w">             </span><span class="p">[</span><span class="n">Add</span><span class="w"> </span><span class="n">Tags</span><span class="p">]</span>

<span class="nl">Required</span><span class="p">:</span><span class="w"> </span><span class="n">Environment</span><span class="p">,</span><span class="w"> </span><span class="n">CostCenter</span><span class="p">,</span><span class="w"> </span><span class="n">Owner</span><span class="p">,</span><span class="w"> </span><span class="n">Application</span>
<span class="nl">Deadline</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="n">days</span>
</code></pre></div>

<p><strong>Value:</strong> 10+ hours/week saved, FinOps reporting actually works</p>
<hr />
<h2>Logic App #4: Backup Verification Report</h2>
<p><strong>What It Does:</strong><br />
- Queries all Recovery Services Vaults daily<br />
- Identifies backup job failures in last 24 hours<br />
- Groups by vault, VM, and error type<br />
- Highlights consecutive failures</p>
<p><strong>Why It Matters:</strong><br />
Backups fail silently.</p>
<p>You discover failures when you need to restore. Too late.</p>
<p>This surfaces failures within 24 hours.</p>
<h3>Deployment</h3>
<div class="codehilite"><pre><span></span><code><span class="nv">$logicAppName</span> <span class="p">=</span> <span class="s2">&quot;la-rsv-backup-report&quot;</span>

<span class="n">az</span> <span class="n">logicapp</span> <span class="n">create</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$resourceGroup</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-location</span> <span class="n">eastus</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-name</span> <span class="nv">$logicAppName</span>

<span class="n">az</span> <span class="n">logicapp</span> <span class="n">identity</span> <span class="n">assign</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$resourceGroup</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-name</span> <span class="nv">$logicAppName</span>

<span class="nv">$principalId</span> <span class="p">=</span> <span class="p">(</span><span class="n">az</span> <span class="n">logicapp</span> <span class="n">identity</span> <span class="n">show</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$resourceGroup</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-name</span> <span class="nv">$logicAppName</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-query</span> <span class="n">principalId</span> <span class="n">-o</span> <span class="n">tsv</span><span class="p">)</span>

<span class="c"># Reader + Backup Reader roles</span>
<span class="n">az</span> <span class="n">role</span> <span class="n">assignment</span> <span class="n">create</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-assignee</span> <span class="nv">$principalId</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-role</span> <span class="s2">&quot;Reader&quot;</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-scope</span> <span class="s2">&quot;/subscriptions/</span><span class="p">$(</span><span class="n">az</span> <span class="n">account</span> <span class="n">show</span> <span class="p">-</span><span class="n">-query</span> <span class="n">id</span> <span class="n">-o</span> <span class="n">tsv</span><span class="p">)</span><span class="s2">&quot;</span>

<span class="n">az</span> <span class="n">role</span> <span class="n">assignment</span> <span class="n">create</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-assignee</span> <span class="nv">$principalId</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-role</span> <span class="s2">&quot;Backup Reader&quot;</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-scope</span> <span class="s2">&quot;/subscriptions/</span><span class="p">$(</span><span class="n">az</span> <span class="n">account</span> <span class="n">show</span> <span class="p">-</span><span class="n">-query</span> <span class="n">id</span> <span class="n">-o</span> <span class="n">tsv</span><span class="p">)</span><span class="s2">&quot;</span>
</code></pre></div>

<h3>Logic App Flow</h3>
<ol>
<li><strong>Trigger:</strong> Recurrence - Daily at 9 AM</li>
<li><strong>HTTP:</strong> Query Resource Graph for all RSVs</li>
<li><strong>For Each Vault:</strong></li>
<li>Query Backup Jobs API</li>
<li>Filter for Failed status (last 24h)</li>
<li>Parse error details</li>
<li><strong>If failures:</strong></li>
<li>Compose HTML report</li>
<li>Send high-priority email</li>
<li><strong>If all successful:</strong></li>
<li>Send confirmation email</li>
</ol>
<h3>Expected Output</h3>
<p><strong>When failures occur:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">Subject</span><span class="o">:</span><span class="w"> </span><span class="err">Ã°Å¸Å¡Â¨</span><span class="w"> </span><span class="n">ALERT</span><span class="o">:</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">Backup</span><span class="w"> </span><span class="n">Failures</span><span class="w"> </span><span class="o">(</span><span class="n">Last</span><span class="w"> </span><span class="mi">24</span><span class="n">h</span><span class="o">)</span>

<span class="n">BACKUP</span><span class="w"> </span><span class="n">FAILURE</span><span class="w"> </span><span class="n">REPORT</span>
<span class="err">Ã¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€Â</span>
<span class="n">Vault</span><span class="w">              </span><span class="n">VM</span><span class="w"> </span><span class="n">Name</span><span class="w">           </span><span class="n">Error</span><span class="w"> </span><span class="n">Code</span>
<span class="err">Ã¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€ÂÃ¢â€Â</span>
<span class="n">rsv</span><span class="o">-</span><span class="n">prod</span><span class="o">-</span><span class="n">backups</span><span class="w">   </span><span class="n">vm</span><span class="o">-</span><span class="n">sql</span><span class="o">-</span><span class="n">prod</span><span class="o">-</span><span class="mi">01</span><span class="w">    </span><span class="n">UserErrorVmNotFound</span>
<span class="n">rsv</span><span class="o">-</span><span class="n">prod</span><span class="o">-</span><span class="n">backups</span><span class="w">   </span><span class="n">vm</span><span class="o">-</span><span class="n">app</span><span class="o">-</span><span class="n">prod</span><span class="o">-</span><span class="mi">03</span><span class="w">    </span><span class="n">UserErrorDiskQuota</span>
<span class="n">rsv</span><span class="o">-</span><span class="n">dev</span><span class="o">-</span><span class="n">backups</span><span class="w">    </span><span class="n">vm</span><span class="o">-</span><span class="n">test</span><span class="o">-</span><span class="n">server</span><span class="w">    </span><span class="n">UserErrorVMAgentOffline</span>

<span class="n">COMMON</span><span class="w"> </span><span class="n">FIXES</span>
<span class="n">UserErrorVmNotFound</span><span class="w">     </span><span class="err">Ã¢â€ â€™</span><span class="w"> </span><span class="n">VM</span><span class="w"> </span><span class="n">deleted</span><span class="o">,</span><span class="w"> </span><span class="n">remove</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">policy</span>
<span class="n">UserErrorDiskQuota</span><span class="w">      </span><span class="err">Ã¢â€ â€™</span><span class="w"> </span><span class="n">Increase</span><span class="w"> </span><span class="n">storage</span><span class="o">,</span><span class="w"> </span><span class="n">review</span><span class="w"> </span><span class="n">retention</span>
<span class="n">UserErrorVMAgentOffline</span><span class="w"> </span><span class="err">Ã¢â€ â€™</span><span class="w"> </span><span class="n">Check</span><span class="w"> </span><span class="n">agent</span><span class="o">,</span><span class="w"> </span><span class="n">restart</span><span class="w"> </span><span class="n">VM</span>

<span class="n">ACTION</span><span class="w"> </span><span class="n">REQUIRED</span><span class="o">:</span><span class="w"> </span><span class="n">Remediate</span><span class="w"> </span><span class="n">within</span><span class="w"> </span><span class="mi">24</span><span class="w"> </span><span class="n">hours</span>
</code></pre></div>

<p><strong>When successful:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">Subject</span><span class="o">:</span><span class="w"> </span><span class="err">Ã¢Å“â€¦</span><span class="w"> </span><span class="n">All</span><span class="w"> </span><span class="n">Backups</span><span class="w"> </span><span class="n">Successful</span><span class="w"> </span><span class="o">(</span><span class="n">Last</span><span class="w"> </span><span class="mi">24</span><span class="n">h</span><span class="o">)</span>

<span class="n">Total</span><span class="w"> </span><span class="n">Vaults</span><span class="o">:</span><span class="w"> </span><span class="mi">12</span>
<span class="n">Total</span><span class="w"> </span><span class="n">Successful</span><span class="w"> </span><span class="n">Jobs</span><span class="o">:</span><span class="w"> </span><span class="mi">247</span>

<span class="n">No</span><span class="w"> </span><span class="n">action</span><span class="w"> </span><span class="n">required</span><span class="o">.</span>
</code></pre></div>

<p><strong>Value:</strong> 4+ hours per restore crisis avoided, compliance verified</p>
<hr />
<h2>Deployment Strategy</h2>
<p>Don't deploy all 4 at once. Prioritize by pain:</p>
<h3>Week 1: Backup Verification</h3>
<p>Highest risk - deploy first<br />
- Test with existing vaults<br />
- Validate email delivery<br />
- Run for 1 week</p>
<h3>Week 2: Certificate Monitor</h3>
<p>Outage prevention<br />
- Set up Teams webhook<br />
- Test with expiring cert<br />
- Run for 1 week</p>
<h3>Week 3: Unused Resource Cleanup</h3>
<p>Cost savings<br />
- Review first report<br />
- Identify safe deletions<br />
- Calculate savings</p>
<h3>Week 4: Tag Compliance</h3>
<p>Organizational buy-in<br />
- Socialize with owners<br />
- Information-only mode<br />
- Enable enforcement after 2 weeks</p>
<h2>Cost Analysis</h2>
<p><strong>Logic App Costs (Consumption):</strong><br />
- ~$0.012 per Logic App/month<br />
- All 4: <strong>~$0.05/month</strong></p>
<p><strong>Connector Costs:</strong><br />
- Office 365: Included with M365<br />
- Resource Graph: Free<br />
- Teams: Free</p>
<p><strong>Total: &lt; $1/month</strong></p>
<p><strong>Value:</strong><br />
- Unused resources: $4,000/month recovered<br />
- Certificates: Outage prevention<br />
- Tags: FinOps enablement<br />
- Backups: Compliance verified</p>
<p><strong>ROI: Infinite</strong></p>
<h2>Common Issues</h2>
<p><strong>Issue 1: Permission Errors</strong></p>
<div class="codehilite"><pre><span></span><code>HTTP 403 Forbidden
</code></pre></div>

<p><strong>Fix:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c"># Verify identity</span>
<span class="nv">$identity</span> <span class="p">=</span> <span class="n">az</span> <span class="n">logicapp</span> <span class="n">identity</span> <span class="n">show</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$resourceGroup</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-name</span> <span class="nv">$logicAppName</span>

<span class="c"># Re-assign role</span>
<span class="n">az</span> <span class="n">role</span> <span class="n">assignment</span> <span class="n">create</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-assignee</span> <span class="nv">$identity</span><span class="p">.</span><span class="n">principalId</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-role</span> <span class="s2">&quot;Reader&quot;</span> <span class="p">`</span>
  <span class="p">-</span><span class="n">-scope</span> <span class="s2">&quot;/subscriptions/</span><span class="p">$(</span><span class="n">az</span> <span class="n">account</span> <span class="n">show</span> <span class="p">-</span><span class="n">-query</span> <span class="n">id</span> <span class="n">-o</span> <span class="n">tsv</span><span class="p">)</span><span class="s2">&quot;</span>
</code></pre></div>

<p><strong>Issue 2: Email Not Sending</strong></p>
<ol>
<li>Check spam folder</li>
<li>Verify email address</li>
<li>Re-authenticate O365 connector:</li>
<li>Go to API Connections</li>
<li>Edit connection</li>
<li>Re-authenticate</li>
<li>Check O365 audit logs</li>
</ol>
<p><strong>Issue 3: Query Timeout</strong></p>
<p>Split by subscription:</p>
<div class="codehilite"><pre><span></span><code><span class="c">// Query specific subscription</span>
<span class="n">Resources</span><span class="w"> </span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">=~</span><span class="w"> </span><span class="s">&#39;microsoft.compute/disks&#39;</span><span class="w"> </span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">subscriptionId</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="s">&#39;YOUR-SUB-ID&#39;</span>
</code></pre></div>

<h2>Bottom Line</h2>
<p>Stop clicking buttons. Build these 4 Logic Apps.</p>
<ol>
<li><strong>Unused Resource Cleanup</strong> - Recover thousands/month</li>
<li><strong>Certificate Monitor</strong> - Prevent outages</li>
<li><strong>Tag Compliance</strong> - Enable FinOps</li>
<li><strong>Backup Verification</strong> - Verify before you need it</li>
</ol>
<p>Running in production managing 31,000+ resources.</p>
<p>They work.</p>
<hr />
<h2>Related Resources</h2>
<p><strong>Cost Management &amp; FinOps:</strong><br />
- <a href="/blog/azure-finops-complete-guide">Azure FinOps Complete Guide</a> - Enterprise FinOps framework for cost visibility and optimization<br />
- <a href="/blog/azure-cost-optimization-what-actually-works">Azure Cost Optimization: What Actually Works</a> - Real tactics beyond Azure Advisor recommendations<br />
- <a href="/blog/azure-chargeback-tags-model">Azure Chargeback Models</a> - Chargeback strategies that business units accept<br />
- <a href="/blog/tag-governance-247-variations">Tag Governance: The 247 Variations Problem</a> - Solving tag standardization at scale</p>
<p><strong>Automation &amp; Operations:</strong><br />
- <a href="/blog/powershell-7-enterprise-migration">PowerShell 7 Migration Guide</a> - Complete migration checklist with time savings calculator<br />
- <a href="/blog/azure-command-finder">Azure Command Finder</a> - Interactive troubleshooting tool for instant solutions</p>
<hr />
<p><strong>Questions?</strong> Leave a comment or reach out.</p>
<p><strong>Want more automation?</strong> Check out <a href="https://azure-noob.com">azure-noob.com</a> for practical Azure ops content.</p>
  </div>

  
  <section class="starter-kit-callout" style="
    max-width: 800px;
    margin: 3rem auto 2rem;
    padding: 2rem;
    border-radius: 12px;
    background: var(--bg-light);
    border: 1px solid var(--border);
    text-align: left;
  ">
    <h3 style="margin-top: 0;">Azure Admin Starter Kit (Free Download)</h3>
    <p style="margin-bottom: 1rem;">
      Get my KQL cheat sheet, 50 Windows + 50 Linux commands, and an Azure RACI template in one free bundle.
    </p>
    <a href="/blog/starter-kit/" class="btn">Get the Starter Kit â†’</a>
  </section>

  
  <aside class="email-capture" style="max-width: 800px; margin: 4rem auto; padding: 3rem; background: linear-gradient(135deg, #0078d4 0%, #005a9e 100%); border-radius: 12px; text-align: center; color: white;">
    <h3 style="margin-top: 0; color: white; font-size: 1.75rem;">Get Azure operational guides in your inbox</h3>
    <p style="margin: 1rem 0 2rem; font-size: 1.1rem; color: white;">Weekly tips from managing 44 Azure subscriptions. No marketing BS.</p>
    
    <form action="https://app.kit.com/forms/8896829/subscriptions" method="post" style="max-width: 500px; margin: 0 auto; display: flex; gap: 0.75rem; flex-wrap: wrap; justify-content: center;">
      <input type="email" 
             name="email_address" 
             placeholder="your@email.com" 
             required 
             style="flex: 1; min-width: 250px; padding: 0.875rem 1rem; border: none; border-radius: 8px; font-size: 1rem; color: #333;">
      <button type="submit" 
              style="padding: 0.875rem 2rem; background: white; color: #0078d4; border: none; border-radius: 8px; font-weight: 700; cursor: pointer; white-space: nowrap; font-size: 1rem; transition: all 0.2s;">
        Subscribe
      </button>
    </form>
    
    <p style="margin: 1.5rem 0 0; font-size: 0.9rem; opacity: 0.9; color: white;">
      Join 500+ Azure admins. Unsubscribe anytime.
    </p>
  </aside>

  
  
  <aside class="related-posts" style="max-width: 800px; margin: 3rem auto; padding: 2rem; background: var(--bg-light); border-radius: 12px;">
    <h3 style="margin-top: 0;">Related Posts</h3>
    <ul style="list-style: none; padding: 0;">
      
      <li style="margin: 1rem 0;">
        <a href="/blog/pull-meta-from-arm/" style="display: block; padding: 1rem; background: white; border-radius: 8px; border: 1px solid var(--border); transition: all 0.2s ease;">
          <span class="related-title" style="font-weight: 700; display: block; color: var(--text-dark);">I&#39;ll Pull The Meta From ARM - What 6 Months of KQL Actually Looks Like</span>
          <span class="related-meta" style="color: var(--text-muted); font-size: 0.9rem;">2025-11-10</span>
        </a>
      </li>
      
      <li style="margin: 1rem 0;">
        <a href="/blog/azure-finops-complete-guide/" style="display: block; padding: 1rem; background: white; border-radius: 8px; border: 1px solid var(--border); transition: all 0.2s ease;">
          <span class="related-title" style="font-weight: 700; display: block; color: var(--text-dark);">Azure FinOps Complete Guide 2026: Tag Governance, Cost Allocation &amp; Chargeback Models</span>
          <span class="related-meta" style="color: var(--text-muted); font-size: 0.9rem;">2026-01-03</span>
        </a>
      </li>
      
      <li style="margin: 1rem 0;">
        <a href="/blog/azure-chargeback-architecture-reality/" style="display: block; padding: 1rem; background: white; border-radius: 8px; border: 1px solid var(--border); transition: all 0.2s ease;">
          <span class="related-title" style="font-weight: 700; display: block; color: var(--text-dark);">Azure Chargeback Architecture: The Two Models That Actually Work</span>
          <span class="related-meta" style="color: var(--text-muted); font-size: 0.9rem;">2025-12-23</span>
        </a>
      </li>
      
    </ul>
  </aside>
  

  
  
  
    <!-- CTA: FinOps Resources -->
<div class="cta-block" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 2rem; border-radius: 8px; margin: 3rem 0; text-align: center; color: white;">
  <h3 style="margin: 0 0 1rem; font-size: 1.75rem; color: white;">ğŸ’° Stop Guessing at Azure Costs</h3>
  <p style="margin: 0 0 1.5rem; font-size: 1.1rem; line-height: 1.6;">
    Get the <strong>Azure FinOps Framework</strong> with cost allocation templates, tag governance policies, 
    and showback dashboards that finance actually understands.
  </p>
  <a href="/static/downloads/Azure-Integration-Assessment-Framework.xlsx" 
     download
     style="display: inline-block; padding: 0.75rem 2rem; background: white; color: #667eea; text-decoration: none; border-radius: 6px; font-weight: 700; font-size: 1.1rem; box-shadow: 0 4px 12px rgba(0,0,0,0.15); transition: all 0.3s ease;"
     onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(0,0,0,0.2)'"
     onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(0,0,0,0.15)'">
    Download FinOps Framework
  </a>
  <p style="margin: 1rem 0 0; font-size: 0.9rem; opacity: 0.9;">
    Excel template â€¢ KQL queries included â€¢ No email required
  </p>
</div>
  

  
  <nav class="post-nav">
    
      <a href="/blog/azure-ai-collaboration-gap/">
        <span style="opacity: 0.7; font-size: 0.85rem; display: block; margin-bottom: 0.25rem;">â† Previous</span>
        <strong>The AI Collaboration Gap: What Azure Admins Need to Know About Claude vs Copilot</strong>
      </a>
    
    
      <a href="/blog/azure-service-inventory-tool/" style="text-align: right;">
        <span style="opacity: 0.7; font-size: 0.85rem; display: block; margin-bottom: 0.25rem;">Next â†’</span>
        <strong>Azure Service Inventory Tool: Which of the 397 Services Do You Actually Use?</strong>
      </a>
    
  </nav>

</article>

    </div>
  </main>

  <footer class="site-footer">
    <div class="wrap">
      
      <!-- Featured Bundle Promotion - TEMPORARILY DISABLED
      <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 2rem; border-radius: 8px; margin-bottom: 2rem; text-align: center; color: white;">
        <h3 style="color: white; margin: 0 0 0.75rem 0; font-size: 1.5rem;">ğŸ“¦ Enterprise Azure Operations Bundle</h3>
        <p style="font-size: 1.05rem; margin: 0 0 1rem 0; opacity: 0.95;">
          Get all 4 digital products for <strong style="font-size: 1.25rem;">$97</strong> <span style="text-decoration: line-through; opacity: 0.7;">($86 separately)</span>
        </p>
        <ul style="list-style: none; padding: 0; margin: 1rem 0 1.5rem; text-align: left; max-width: 500px; margin-left: auto; margin-right: auto; font-size: 0.95rem;">
          <li style="padding: 0.35rem 0;">âœ”ï¸ Azure AI FinOps Query Pack (12 production KQL queries)</li>
          <li style="padding: 0.35rem 0;">âœ”ï¸ Azure Migration Assessment Pro (55-question framework)</li>
          <li style="padding: 0.35rem 0;">âœ”ï¸ Azure CAF Operations RACI Pro (Governance matrix)</li>
          <li style="padding: 0.35rem 0;">âœ”ï¸ Enterprise Azure Inventory KQL Pack (Tested on 30K+ resources)</li>
        </ul>
        <a href="https://davidnoob.gumroad.com/l/azure-ops-bundle" 
           style="display: inline-block; padding: 0.875rem 2rem; background: white; color: #667eea; text-decoration: none; border-radius: 6px; font-weight: 700; font-size: 1.05rem; box-shadow: 0 4px 12px rgba(0,0,0,0.2);" 
           target="_blank" rel="noopener">
          Get the Bundle â†’
        </a>
        <p style="margin: 1rem 0 0; font-size: 0.85rem; opacity: 0.9;">
          Instant digital delivery â€¢ Lifetime updates â€¢ Money-back guarantee
        </p>
      </div>
      -->
      
      <p>&copy; 2026 Azure Noob â€” Don&#39;t be a Noob</p>
      <p style="margin-top: 0.5rem; font-size: 0.9rem;">
        <a href="/rss.xml" title="Subscribe via RSS">RSS Feed</a> Â· 
        <a href="https://github.com/dswann101164" target="_blank" rel="noopener">GitHub</a>
      </p>
      <p style="margin-top: 1.5rem; font-size: 0.85rem; opacity: 0.7; font-style: italic;">
        "Trust in the Lord with all your heart, and lean not on your own understanding;<br>
        in all your ways acknowledge Him, and He will make your paths straight" â€” Proverbs 3:5-6
      </p>
    </div>
  </footer>

  <!-- Copy code functionality -->
  <script src="/static/copy-code.js"></script>

  <!-- Exit-Intent Popup -->
  <div id="exit-popup" class="exit-popup" style="display: none;">
    <div class="exit-popup-content">
      <button class="exit-popup-close" onclick="closeExitPopup()">&times;</button>
      <h2>Wait! Before You Go...</h2>
      <p class="exit-popup-subtitle">Get the <strong>FREE Azure Admin Starter Kit</strong></p>
      <ul class="exit-popup-benefits">
        <li>âœ“ 15 Essential KQL Queries</li>
        <li>âœ“ 50 Windows Commands</li>
        <li>âœ“ 50 Linux Commands</li>
      </ul>
      <form id="exit-popup-form" class="exit-popup-form">
        <input type="email" id="popup-email" placeholder="Enter your email" required>
        <button type="submit" class="exit-popup-submit">Send Me The Free Kit</button>
      </form>
      <p class="exit-popup-privacy">We'll also notify you about new tools & guides. Unsubscribe anytime.</p>
    </div>
  </div>

  <style>
  .exit-popup {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: fadeIn 0.3s ease;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  .exit-popup-content {
    background: white;
    padding: 2.5rem;
    border-radius: 12px;
    max-width: 500px;
    width: 90%;
    position: relative;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    animation: slideUp 0.3s ease;
  }

  @keyframes slideUp {
    from { transform: translateY(50px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }

  .exit-popup-close {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: none;
    border: none;
    font-size: 2rem;
    cursor: pointer;
    color: #999;
    line-height: 1;
  }

  .exit-popup-close:hover {
    color: #333;
  }

  .exit-popup h2 {
    margin: 0 0 0.5rem 0;
    color: #0078d4;
    font-size: 2rem;
  }

  .exit-popup-subtitle {
    font-size: 1.2rem;
    margin: 0 0 1.5rem 0;
  }

  .exit-popup-benefits {
    list-style: none;
    padding: 0;
    margin: 1.5rem 0;
  }

  .exit-popup-benefits li {
    padding: 0.5rem 0;
    font-size: 1.1rem;
  }

  .exit-popup-form {
    margin: 1.5rem 0;
  }

  .exit-popup-form input[type="email"] {
    width: 100%;
    padding: 1rem;
    border: 2px solid #ddd;
    border-radius: 6px;
    font-size: 1rem;
    margin-bottom: 1rem;
  }

  .exit-popup-form input[type="email"]:focus {
    outline: none;
    border-color: #0078d4;
  }

  .exit-popup-submit {
    width: 100%;
    padding: 1rem 2rem;
    background: #0078d4;
    color: white;
    border: none;
    border-radius: 6px;
    font-size: 1.1rem;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.2s;
  }

  .exit-popup-submit:hover {
    background: #005a9e;
  }

  .exit-popup-privacy {
    font-size: 0.85rem;
    color: #666;
    margin-top: 1rem;
    text-align: center;
  }
  </style>

  <script>
  // Exit-intent detection
  let exitPopupShown = false;
  let mouseY = 0;

  document.addEventListener('mousemove', (e) => {
    mouseY = e.clientY;
  });

  document.addEventListener('mouseout', (e) => {
    // If mouse leaves through top of viewport and popup hasn't been shown
    if (!exitPopupShown && e.clientY <= 0 && mouseY <= 100) {
      // Check if user has seen it before (session storage)
      if (!sessionStorage.getItem('exitPopupSeen')) {
        showExitPopup();
      }
    }
  });

  function showExitPopup() {
    exitPopupShown = true;
    document.getElementById('exit-popup').style.display = 'flex';
    sessionStorage.setItem('exitPopupSeen', 'true');
  }

  function closeExitPopup() {
    document.getElementById('exit-popup').style.display = 'none';
  }

  // Handle form submission
  document.getElementById('exit-popup-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    const email = document.getElementById('popup-email').value;
    
    // Send to Kit (ConvertKit)
    try {
      const FORM_ID = '8896829'; // Your Kit Form ID
      
      const response = await fetch(`https://api.convertkit.com/v3/forms/${FORM_ID}/subscribe`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          email: email
        })
      });
      
      if (response.ok) {
        console.log('âœ… Email captured to Kit:', email);
      }
      
      closeExitPopup();
      
      // Track in Google Analytics
      if (typeof gtag !== 'undefined') {
        gtag('event', 'signup', {
          'event_category': 'email',
          'event_label': 'exit_popup',
          'value': email
        });
      }
      
      // Redirect to starter kit page
      window.location.href = '/blog/starter-kit/';
      
    } catch (error) {
      console.error('Error:', error);
      // Still redirect even if tracking fails
      window.location.href = '/blog/starter-kit/';
    }
  });

  // Close on background click
  document.getElementById('exit-popup').addEventListener('click', (e) => {
    if (e.target.id === 'exit-popup') {
      closeExitPopup();
    }
  });
  </script>
</body>
</html>