<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  
  
  

  <!-- Primary SEO -->
  <title>Azure Cost Optimization 2025: The Complete Framework | Azure Noob</title>
  <meta name="description" content="A real-world guide to optimizing Azure costs using rightsizing, automation, cleanup, governance, tags, and financial accountability.">
  
  <link rel="canonical" href="https://azure-noob.com/blog/azure-cost-optimization-complete-guide/" />

  <!-- Favicons -->
  <link rel="icon" href="/static/images/logo.png">

  <!-- Open Graph -->
  <meta property="og:title" content="Azure Cost Optimization 2025: The Complete Framework">
  <meta property="og:description" content="A real-world guide to optimizing Azure costs using rightsizing, automation, cleanup, governance, tags, and financial accountability.">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://azure-noob.com/blog/azure-cost-optimization-complete-guide/">
  <meta property="og:image" content="https://azure-noob.com/static/images/hero/azure-cost-optimization-guide.png">

  
    <meta property="article:published_time" content="2025-11-03T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-11-03T00:00:00+00:00">
    <meta property="article:author" content="David Swann">
    
      
        <meta property="article:tag" content="Azure">
      
        <meta property="article:tag" content="FinOps">
      
        <meta property="article:tag" content="Cost Optimization">
      
        <meta property="article:tag" content="Automation">
      
        <meta property="article:tag" content="Governance">
      
    
  

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Azure Cost Optimization 2025: The Complete Framework">
  <meta name="twitter:description" content="A real-world guide to optimizing Azure costs using rightsizing, automation, cleanup, governance, tags, and financial accountability.">
  <meta name="twitter:image" content="https://azure-noob.com/static/images/hero/azure-cost-optimization-guide.png">

  <!-- Organization Schema for GEO/AEO entity recognition -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Azure Noob",
    "url": "https://azure-noob.com",
    "logo": "https://azure-noob.com/static/images/logo.png",
    "description": "Practical Azure cloud tutorials and guides from managing 31,000+ resources across 44 subscriptions in regulated enterprise environments.",
    "founder": {
      "@type": "Person",
      "name": "David Swann",
      "jobTitle": "Azure Architect",
      "sameAs": [
        "https://github.com/dswann101164",
        "https://www.linkedin.com/in/intikiswann/"
      ]
    },
    "sameAs": [
      "https://github.com/dswann101164"
    ]
  }
  </script>

  <!-- Styles -->
  <link rel="stylesheet" href="/static/styles.css">

  <!-- RSS Feed -->
  <link rel="alternate" type="application/rss+xml" title="Azure Noob RSS Feed" href="https://azure-noob.com/feed.xml">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZNHGEB0BNZ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-ZNHGEB0BNZ');
  </script>
</head>
<body>
  <header class="site-header">
    <div class="wrap nav-wrap">
      <div class="brand-block">
        <a href="/" class="brand-link">
          <img src="/static/images/logo.png" alt="Azure Noob logo" class="logo">
        </a>
        <span class="brand-text">
          <small>Official Website of</small>
          <strong>Azure Noob</strong>
        </span>
      </div>
      <nav class="nav">
        <a href="/">Home</a>
        <a href="/blog/">Blog</a>
        <a href="/hubs/">Content Hubs</a>
        <a href="/tools/">Tools</a>
        <a href="/start-here/">Start Here</a>
        <a href="/about/">About</a>
        <a href="/tags/">Tags</a>
        <a href="https://github.com/dswann101164" target="_blank" rel="noopener">GitHub</a>
        <a href="/search/">Search</a>
      </nav>
    </div>
  </header>

  <main class="site-content">
    <div class="wrap">
      


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "TechArticle",
  "headline": "Azure Cost Optimization 2025: The Complete Framework",
  "description": "A real-world guide to optimizing Azure costs using rightsizing, automation, cleanup, governance, tags, and financial accountability.",
  "image": {
    "@type": "ImageObject",
    "url": "https://azure-noob.com/static/images/hero/azure-cost-optimization-guide.png",
    "width": 1200,
    "height": 630
  },
  "author": {
    "@type": "Person",
    "name": "David Swann",
    "url": "https://azure-noob.com/about/",
    "description": "Azure Architect specializing in enterprise cloud infrastructure",
    "jobTitle": "Azure Architect",
    "sameAs": [
      "https://github.com/dswann101164",
      "https://www.linkedin.com/in/intikiswann/"
    ],
    "worksFor": {
      "@type": "Organization",
      "name": "Synovus"
    }
  },
  "publisher": {
    "@type": "Organization",
    "name": "Azure Noob",
    "url": "https://azure-noob.com",
    "logo": {
      "@type": "ImageObject",
      "url": "https://azure-noob.com/static/images/logo.png"
    }
  },
  "datePublished": "2025-11-03T00:00:00+00:00",
  "dateModified": "2025-11-03T00:00:00+00:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://azure-noob.com/blog/azure-cost-optimization-complete-guide/"
  },
  "keywords": "Azure, FinOps, Cost Optimization, Automation, Governance",
  "articleSection": "Azure",
  "wordCount": "5309",
  "timeRequired": "PT27M",
  "inLanguage": "en-US",
  "isAccessibleForFree": "True",
  "proficiencyLevel": "Intermediate",
  
  "about": {
    "@type": "Thing",
    "name": "Azure"
  }
}
</script>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://azure-noob.com"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Blog",
      "item": "https://azure-noob.com/blog/"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Azure Cost Optimization 2025: The Complete Framework",
      "item": "https://azure-noob.com/blog/azure-cost-optimization-complete-guide/"
    }
  ]
}
</script>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "speakable": {
    "@type": "SpeakableSpecification",
    "cssSelector": [".summary", ".post-header h1", ".post-body h2", ".post-body p:first-of-type"]
  },
  "url": "https://azure-noob.com/blog/azure-cost-optimization-complete-guide/"
}
</script>









<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "How much can you realistically save on Azure costs?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "A phased approach typically achieves 10-15% savings in months 3-4 through quick wins like deleting orphaned disks and auto-shutting dev VMs, 20-30% cumulative savings by months 5-6 through strategic optimization, and 30-40% sustained savings from month 7 onward with continuous governance."
      }
    },
    {
      "@type": "Question",
      "name": "What are the five phases of Azure cost optimization?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "The five phases are: (1) Establish Baseline to understand current spend over weeks 1-2, (2) Tag Everything to add business context in weeks 3-4, (3) Context-Aware Analysis to find optimization targets in weeks 5-6, (4) Optimization Execution to implement changes on an ongoing basis, and (5) Continuous Governance to prevent cost regression. Phases 1-2 produce zero savings but are mandatory."
      }
    },
    {
      "@type": "Question",
      "name": "What Azure tags are required for cost optimization?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Every resource needs six minimum tags: Environment (Production, UAT, Dev, DR), CostCenter (for chargeback), Owner (email of responsible person), Application (groups related resources), Criticality (Tier1, Tier2, Tier3 for SLA definitions), and EOL (end-of-life date or Permanent)."
      }
    },
    {
      "@type": "Question",
      "name": "How do you find and eliminate zombie applications in Azure?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Identify zombie apps by checking for no deployments in 6+ months, no users in access logs, owners who left the company, or temporary dev projects from years ago. Use tags and metrics to identify candidates, email the owner, wait 2 weeks for response, snapshot everything, shut down for 30 days without deleting, and only delete if nobody complains. Savings can be $10,000-$50,000 per month per zombie app."
      }
    },
    {
      "@type": "Question",
      "name": "How much can you save by auto-shutting dev and UAT VMs?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Implementing auto-shutdown schedules for dev and UAT VMs provides approximately 65% savings on compute costs by running 40 hours per week instead of 168 hours. This is achieved by setting nightly shutdown schedules with owner notifications."
      }
    },
    {
      "@type": "Question",
      "name": "Why does following Azure Advisor blindly cause problems?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Azure Advisor lacks business context. It may flag batch processing workloads with CPU spikes, month-end processing that needs peak capacity, or DR/backup disks as optimization candidates. Always check tags, ask resource owners, and test changes in UAT before applying Advisor recommendations to production."
      }
    },
    {
      "@type": "Question",
      "name": "What three things do successful Azure cost optimization programs have?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Successful programs require executive sponsorship with CFO and CTO aligned, business context through comprehensive tagging, and patience with a 6-month roadmap instead of 2-week heroics. Skipping any of these results in either no savings, broken production, or one-time savings that regress."
      }
    }
  ]
}
</script>


<article class="post">

  
  
    
    <div class="hero">
      <img src="/static/images/hero/azure-cost-optimization-guide.png" alt="Azure Cost Optimization 2025: The Complete Framework" loading="eager">
    </div>
  

  <header class="post-header">
    <h1>Azure Cost Optimization 2025: The Complete Framework</h1>
    <p class="muted">
      2025-11-03 ¬∑ ~27 min read
      
    </p>
    
    
    <ul class="tags-list">
      
      <li><a href="/tags/azure/" class="tag-badge">Azure</a></li>
      
      <li><a href="/tags/finops/" class="tag-badge">FinOps</a></li>
      
      <li><a href="/tags/cost-optimization/" class="tag-badge">Cost Optimization</a></li>
      
      <li><a href="/tags/automation/" class="tag-badge">Automation</a></li>
      
      <li><a href="/tags/governance/" class="tag-badge">Governance</a></li>
      
    </ul>
    
    
    
      <p class="summary">A real-world guide to optimizing Azure costs using rightsizing, automation, cleanup, governance, tags, and financial accountability.</p>
    
  </header>

  
  <p class="post-actions" style="margin:.5rem 0 0; text-align: center;">
    <button class="btn"
            onclick="window.print(); return false;"
            title="Print this page"
            aria-label="Print this page"
            style="cursor: pointer; background: none; border: 2px solid var(--azure-blue);">
      üñ®Ô∏è Print this page
    </button>
  </p>

  
  <div class="post-body">
    <p>This isn't another "turn off unused VMs" guide.</p>
<p>This is the <strong>complete framework</strong> I've used to reduce Azure spend by 30-40% across multiple enterprises√¢‚Ç¨‚Äùwithout breaking production, without political fallout, and with Finance actually thanking me.</p>
<p>This guide is part of our <a href="/hub/finops/">Azure FinOps hub</a> covering cost management, chargeback models, and tag governance at enterprise scale.</p>
<p>It's long. It's detailed. <strong>Bookmark it</strong>.</p>
<hr />
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#the-framework-overview">The Framework Overview</a></li>
<li><a href="#phase-1-establish-baseline">Phase 1: Establish Baseline</a></li>
<li><a href="#phase-2-tag-everything">Phase 2: Tag Everything</a></li>
<li><a href="#phase-3-context-aware-analysis">Phase 3: Context-Aware Analysis</a></li>
<li><a href="#phase-4-optimization-execution">Phase 4: Optimization Execution</a></li>
<li><a href="#phase-5-continuous-governance">Phase 5: Continuous Governance</a></li>
<li><a href="#stakeholder-management">Stakeholder Management</a></li>
<li><a href="#common-pitfalls">Common Pitfalls</a></li>
</ol>
<hr />
<h2 id="the-framework-overview">The Framework Overview</h2>
<p>Real Azure cost optimization requires five phases:</p>
<table>
<thead>
<tr>
<th>Phase</th>
<th>Focus</th>
<th>Timeline</th>
<th>Expected Impact</th>
</tr>
</thead>
<tbody>
<tr>
<td>Baseline</td>
<td>Understand current state</td>
<td>Week 1-2</td>
<td>0% savings (data gathering)</td>
</tr>
<tr>
<td>Tagging</td>
<td>Add business context</td>
<td>Week 3-4</td>
<td>0% savings (foundation)</td>
</tr>
<tr>
<td>Analysis</td>
<td>Find optimization targets</td>
<td>Week 5-6</td>
<td>5-10% quick wins</td>
</tr>
<tr>
<td>Execution</td>
<td>Implement changes</td>
<td>Ongoing</td>
<td>20-30% over 6 months</td>
</tr>
<tr>
<td>Governance</td>
<td>Prevent regression</td>
<td>Ongoing</td>
<td>Sustain savings</td>
</tr>
</tbody>
</table>
<p><strong>Critical Point</strong>: Phases 1-2 produce zero savings but are mandatory. Skip them and you'll optimize the wrong things.</p>
<hr />
<h2 id="phase-1-establish-baseline">Phase 1: Establish Baseline</h2>
<p>Before you optimize anything, you need a complete picture of your Azure environment.</p>
<h3 id="step-1-total-spend-by-service">Step 1: Total Spend by Service</h3>
<div class="codehilite"><pre><span></span><code><span class="c">// Get last 90 days of Azure spend by service</span>
<span class="n">AzureCostManagementExports</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">TimeGenerated</span><span class="w"> </span><span class="p">&gt;=</span><span class="w"> </span><span class="n">ago</span><span class="p">(</span><span class="mi">90</span><span class="n">d</span><span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">summarize</span><span class="w"> </span><span class="n">TotalCost</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">CostInBillingCurrency</span><span class="p">)</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">ServiceName</span>
<span class="p">|</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">TotalCost</span><span class="w"> </span><span class="n">desc</span>
<span class="p">|</span><span class="w"> </span><span class="k">take</span><span class="w"> </span><span class="mi">20</span>
</code></pre></div>

<p>This tells you <strong>where the money is actually going</strong>. You'll likely find:<br />
- <strong>Compute</strong>: 40-50% (VMs, App Services, AKS)<br />
- <strong>Storage</strong>: 15-25% (Disks, Blob, File Shares)<br />
- <strong>Networking</strong>: 10-15% (Bandwidth, Load Balancers, VPN)<br />
- <strong>Everything else</strong>: 20-30%</p>
<h3 id="step-2-spend-by-subscription">Step 2: Spend by Subscription</h3>
<div class="codehilite"><pre><span></span><code><span class="n">Resources</span>
<span class="p">|</span><span class="w"> </span><span class="k">summarize</span><span class="w"> </span><span class="n">ResourceCount</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">count</span><span class="p">()</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">subscriptionId</span>
<span class="p">|</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">kind</span><span class="p">=</span><span class="n">inner</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">AzureCostManagementExports</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">TimeGenerated</span><span class="w"> </span><span class="p">&gt;=</span><span class="w"> </span><span class="n">ago</span><span class="p">(</span><span class="mi">30</span><span class="n">d</span><span class="p">)</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span><span class="k">summarize</span><span class="w"> </span><span class="n">MonthlyCost</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">CostInBillingCurrency</span><span class="p">)</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">SubscriptionId</span>
<span class="p">)</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="err">$</span><span class="n">left</span><span class="err">.</span><span class="n">subscriptionId</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="err">$</span><span class="n">right</span><span class="err">.</span><span class="n">SubscriptionId</span>
<span class="p">|</span><span class="w"> </span><span class="k">project</span><span class="w"> </span><span class="n">SubscriptionId</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">subscriptionId</span><span class="p">,</span><span class="w"> </span><span class="n">ResourceCount</span><span class="p">,</span><span class="w"> </span><span class="n">MonthlyCost</span>
<span class="p">|</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">MonthlyCost</span><span class="w"> </span><span class="n">desc</span>
</code></pre></div>

<p>Identifies <strong>hot zones</strong>√¢‚Ç¨‚Äùsubscriptions with highest spend get optimization priority.</p>
<h3 id="step-3-resource-inventory">Step 3: Resource Inventory</h3>
<div class="codehilite"><pre><span></span><code><span class="n">Resources</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;microsoft.compute/virtualmachines&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;microsoft.storage/storageaccounts&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="s">&quot;microsoft.compute/disks&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;microsoft.network/publicipaddresses&quot;</span>
<span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span>
<span class="w">    </span><span class="n">ResourceType</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tostring</span><span class="p">(</span><span class="n">split</span><span class="p">(</span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;/&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]),</span>
<span class="w">    </span><span class="n">HasTags</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">iff</span><span class="p">(</span><span class="n">array_length</span><span class="p">(</span><span class="n">todynamic</span><span class="p">(</span><span class="n">tags</span><span class="p">))</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Yes&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;No&quot;</span><span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">summarize</span><span class="w"> </span><span class="n">Count</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">count</span><span class="p">()</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">ResourceType</span><span class="p">,</span><span class="w"> </span><span class="n">HasTags</span>
<span class="p">|</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">Count</span><span class="w"> </span><span class="n">desc</span>
</code></pre></div>

<p>Shows you:<br />
- Total resource counts by type<br />
- How many are <strong>untagged</strong> (the ones you can't analyze properly)</p>
<h3 id="step-4-unused-resource-scan">Step 4: Unused Resource Scan</h3>
<div class="codehilite"><pre><span></span><code><span class="c">// Disks not attached to VMs</span>
<span class="n">Resources</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="s">&quot;microsoft.compute/disks&quot;</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">properties</span><span class="err">.</span><span class="n">diskState</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="s">&quot;Unattached&quot;</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span>
<span class="w">    </span><span class="n">DiskSizeGB</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">properties</span><span class="err">.</span><span class="n">diskSizeGB</span><span class="p">,</span>
<span class="w">    </span><span class="n">SKU</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">properties</span><span class="err">.</span><span class="n">sku</span><span class="err">.</span><span class="n">name</span><span class="p">,</span>
<span class="w">    </span><span class="n">EstimatedMonthlyCost</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">iff</span><span class="p">(</span><span class="n">properties</span><span class="err">.</span><span class="n">sku</span><span class="err">.</span><span class="n">name</span><span class="w"> </span><span class="k">startswith</span><span class="w"> </span><span class="s">&quot;Premium&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">properties</span><span class="err">.</span><span class="n">diskSizeGB</span><span class="w"> </span><span class="p">*</span><span class="w"> </span><span class="mf">0.135</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">properties</span><span class="err">.</span><span class="n">diskSizeGB</span><span class="w"> </span><span class="p">*</span><span class="w"> </span><span class="mf">0.045</span><span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">project</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">resourceGroup</span><span class="p">,</span><span class="w"> </span><span class="n">DiskSizeGB</span><span class="p">,</span><span class="w"> </span><span class="n">SKU</span><span class="p">,</span><span class="w"> </span><span class="n">EstimatedMonthlyCost</span>
<span class="p">|</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">EstimatedMonthlyCost</span><span class="w"> </span><span class="n">desc</span>
</code></pre></div>

<p><strong>Reality check</strong>: This will find your real orphaned disks√¢‚Ç¨‚Äùnot the ones Azure Advisor flags (which are often DR/backup disks).</p>
<hr />
<h3 id="find-the-zombie-resources">üîç Find the "Zombie" Resources</h3>
<p>These are resources that exist but show ZERO metrics for 30 days.</p>
<div class="codehilite"><pre><span></span><code><span class="c">// Find &quot;Zombie&quot; Resources (No metrics for 30 days)</span>
<span class="c">// Note: Requires Metrics access</span>
<span class="n">InsightsMetrics</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">TimeGenerated</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="n">ago</span><span class="p">(</span><span class="mi">30</span><span class="n">d</span><span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">summarize</span><span class="w"> </span><span class="n">MaxVal</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">max</span><span class="p">(</span><span class="n">Val</span><span class="p">)</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">_ResourceId</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">MaxVal</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="mi">0</span>
<span class="p">|</span><span class="w"> </span><span class="k">project</span><span class="w"> </span><span class="n">_ResourceId</span>
</code></pre></div>

<hr />
<h2 id="phase-2-tag-everything">Phase 2: Tag Everything</h2>
<p>Tags are the <strong>only way</strong> to add business context to Azure resources. Without them, you're optimizing blind.</p>
<h3 id="the-essential-tag-schema">The Essential Tag Schema</h3>
<p>Every resource needs these six tags (minimum):</p>
<div class="codehilite"><pre><span></span><code><span class="nt">Environment</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Production | UAT | Dev | DR</span>
<span class="nt">CostCenter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Finance | IT | Marketing | Sales</span>
<span class="nt">Owner</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">firstname.lastname@company.com</span>
<span class="nt">Application</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SAP-ERP | CRM | WebPortal</span>
<span class="nt">Criticality</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Tier1 | Tier2 | Tier3</span>
<span class="nt">EOL</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">YYYY-MM-DD (or &quot;Permanent&quot;)</span>
</code></pre></div>

<h3 id="why-these-tags-matter">Why These Tags Matter</h3>
<p><strong>Environment</strong>: Tells you which resources can be shut down nights/weekends<br />
<strong>CostCenter</strong>: Enables chargeback (makes cost someone else's problem)<br />
<strong>Owner</strong>: Who to ask "do we still need this?"<br />
<strong>Application</strong>: Groups related resources for impact analysis<br />
<strong>Criticality</strong>: Defines SLAs and optimization risk tolerance<br />
<strong>EOL</strong>: Identifies resources scheduled for decommission</p>
<h3 id="bulk-tagging-strategy">Bulk Tagging Strategy</h3>
<p><strong>Option 1: PowerShell for Resource Groups</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c"># Tag all resources in a resource group</span>
<span class="nv">$tags</span> <span class="p">=</span> <span class="p">@{</span>
    <span class="s2">&quot;Environment&quot;</span> <span class="p">=</span> <span class="s2">&quot;Production&quot;</span>
    <span class="s2">&quot;CostCenter&quot;</span> <span class="p">=</span> <span class="s2">&quot;Finance&quot;</span>
    <span class="s2">&quot;Owner&quot;</span> <span class="p">=</span> <span class="s2">&quot;jane.smith@company.com&quot;</span>
    <span class="s2">&quot;Application&quot;</span> <span class="p">=</span> <span class="s2">&quot;SAP-ERP&quot;</span>
    <span class="s2">&quot;Criticality&quot;</span> <span class="p">=</span> <span class="s2">&quot;Tier1&quot;</span>
    <span class="s2">&quot;EOL&quot;</span> <span class="p">=</span> <span class="s2">&quot;Permanent&quot;</span>
<span class="p">}</span>

<span class="nb">Get-AzResource</span> <span class="n">-ResourceGroupName</span> <span class="s2">&quot;rg-sap-prod&quot;</span> <span class="p">|</span> <span class="k">ForEach</span><span class="n">-Object</span> <span class="p">{</span>
    <span class="nb">Update-AzTag</span> <span class="n">-ResourceId</span> <span class="nv">$_</span><span class="p">.</span><span class="n">ResourceId</span> <span class="n">-Tag</span> <span class="nv">$tags</span> <span class="n">-Operation</span> <span class="n">Merge</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Option 2: Azure Policy for Enforcement</strong></p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Indexed&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;policyRule&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;if&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span><span class="nt">&quot;field&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tags[&#39;Environment&#39;]&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;exists&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="nt">&quot;field&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tags[&#39;Owner&#39;]&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;exists&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="nt">&quot;field&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tags[&#39;CostCenter&#39;]&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;exists&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;then&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;effect&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;deny&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>This <strong>prevents</strong> new resources from being created without required tags.</p>
<h3 id="tagging-existing-resources">Tagging Existing Resources</h3>
<div class="codehilite"><pre><span></span><code><span class="c">// Find untagged resources by subscription</span>
<span class="n">Resources</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">tags</span><span class="w"> </span><span class="k">!has</span><span class="w"> </span><span class="s">&quot;Environment&quot;</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">tags</span><span class="w"> </span><span class="k">!has</span><span class="w"> </span><span class="s">&quot;Owner&quot;</span>
<span class="p">|</span><span class="w"> </span><span class="k">summarize</span><span class="w"> </span><span class="n">UntaggedCount</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">count</span><span class="p">()</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">subscriptionId</span><span class="p">,</span><span class="w"> </span><span class="n">type</span>
<span class="p">|</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">UntaggedCount</span><span class="w"> </span><span class="n">desc</span>
</code></pre></div>

<p><strong>Reality</strong>: You'll find hundreds (or thousands) of untagged resources. Prioritize:<br />
1. Resources in high-spend subscriptions<br />
2. Compute resources (VMs, App Services)<br />
3. Storage with high costs</p>
<p><strong>Don't try to tag everything at once</strong>√¢‚Ç¨‚Äùit's a 6-month project for large enterprises. For the complete tagging strategy including solving the 247 tag variations problem, see our <a href="/blog/azure-resource-tags-guide/">Azure tagging best practices guide</a> and <a href="/blog/azure-tag-governance-policy/">tag governance policy implementation</a>.</p>
<hr />
<h2 id="phase-3-context-aware-analysis">Phase 3: Context-Aware Analysis</h2>
<p>Now that you have tags, you can analyze <strong>by business context</strong> instead of generic cloud metrics.</p>
<h3 id="analysis-1-cost-by-application">Analysis 1: Cost by Application</h3>
<div class="codehilite"><pre><span></span><code><span class="n">Resources</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">tags</span><span class="w"> </span><span class="k">contains</span><span class="w"> </span><span class="s">&quot;Application&quot;</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">Application</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tostring</span><span class="p">(</span><span class="n">tags</span><span class="err">.</span><span class="n">Application</span><span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">kind</span><span class="p">=</span><span class="n">leftouter</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">AzureCostManagementExports</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">TimeGenerated</span><span class="w"> </span><span class="p">&gt;=</span><span class="w"> </span><span class="n">ago</span><span class="p">(</span><span class="mi">30</span><span class="n">d</span><span class="p">)</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span><span class="k">summarize</span><span class="w"> </span><span class="n">MonthlyCost</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">CostInBillingCurrency</span><span class="p">)</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">ResourceId</span>
<span class="p">)</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">ResourceId</span>
<span class="p">|</span><span class="w"> </span><span class="k">summarize</span><span class="w"> </span><span class="n">TotalMonthlyCost</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">MonthlyCost</span><span class="p">)</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">Application</span>
<span class="p">|</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">TotalMonthlyCost</span><span class="w"> </span><span class="n">desc</span>
</code></pre></div>

<p>Shows you <strong>which applications cost the most</strong>√¢‚Ç¨‚Äùnot which subscriptions or resource types.</p>
<h3 id="analysis-2-dev-test-overprovisioning">Analysis 2: Dev/Test Overprovisioning</h3>
<div class="codehilite"><pre><span></span><code><span class="n">Resources</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="s">&quot;microsoft.compute/virtualmachines&quot;</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">tags</span><span class="err">.</span><span class="n">Environment</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Dev&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;UAT&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Test&quot;</span><span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span>
<span class="w">    </span><span class="n">VMSize</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">properties</span><span class="err">.</span><span class="n">hardwareProfile</span><span class="err">.</span><span class="n">vmSize</span><span class="p">,</span>
<span class="w">    </span><span class="n">IsOversized</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">iff</span><span class="p">(</span>
<span class="w">        </span><span class="n">properties</span><span class="err">.</span><span class="n">hardwareProfile</span><span class="err">.</span><span class="n">vmSize</span><span class="w"> </span><span class="k">contains</span><span class="w"> </span><span class="s">&quot;Standard_D8&quot;</span><span class="w"> </span><span class="k">or</span>
<span class="w">        </span><span class="n">properties</span><span class="err">.</span><span class="n">hardwareProfile</span><span class="err">.</span><span class="n">vmSize</span><span class="w"> </span><span class="k">contains</span><span class="w"> </span><span class="s">&quot;Standard_D16&quot;</span><span class="w"> </span><span class="k">or</span>
<span class="w">        </span><span class="n">properties</span><span class="err">.</span><span class="n">hardwareProfile</span><span class="err">.</span><span class="n">vmSize</span><span class="w"> </span><span class="k">contains</span><span class="w"> </span><span class="s">&quot;Standard_E&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="n">true</span><span class="p">,</span><span class="w"> </span><span class="n">false</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">IsOversized</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="n">true</span>
<span class="p">|</span><span class="w"> </span><span class="k">project</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">resourceGroup</span><span class="p">,</span><span class="w"> </span><span class="n">VMSize</span><span class="p">,</span><span class="w"> </span><span class="n">Environment</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tags</span><span class="err">.</span><span class="n">Environment</span><span class="p">,</span><span class="w"> </span><span class="n">Owner</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tags</span><span class="err">.</span><span class="n">Owner</span>
</code></pre></div>

<p><strong>Dev/test environments</strong> are the #1 source of waste in every enterprise I've seen. Nobody needs 16-core VMs for development. This connects directly to our broader <a href="/blog/azure-finops-complete-guide/">Azure FinOps implementation guide</a> where we cover application-level cost visibility.</p>
<h3 id="analysis-3-resources-past-eol">Analysis 3: Resources Past EOL</h3>
<div class="codehilite"><pre><span></span><code><span class="n">Resources</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">tags</span><span class="w"> </span><span class="k">contains</span><span class="w"> </span><span class="s">&quot;EOL&quot;</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span>
<span class="w">    </span><span class="n">EOLDate</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">todatetime</span><span class="p">(</span><span class="n">tags</span><span class="err">.</span><span class="n">EOL</span><span class="p">),</span>
<span class="w">    </span><span class="n">DaysPastEOL</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">datetime_diff</span><span class="p">(</span><span class="s">&#39;day&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">now</span><span class="p">(),</span><span class="w"> </span><span class="n">todatetime</span><span class="p">(</span><span class="n">tags</span><span class="err">.</span><span class="n">EOL</span><span class="p">))</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">DaysPastEOL</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">0</span>
<span class="p">|</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">kind</span><span class="p">=</span><span class="n">leftouter</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">AzureCostManagementExports</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">TimeGenerated</span><span class="w"> </span><span class="p">&gt;=</span><span class="w"> </span><span class="n">ago</span><span class="p">(</span><span class="mi">30</span><span class="n">d</span><span class="p">)</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span><span class="k">summarize</span><span class="w"> </span><span class="n">MonthlyCost</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">CostInBillingCurrency</span><span class="p">)</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">ResourceId</span>
<span class="p">)</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">ResourceId</span>
<span class="p">|</span><span class="w"> </span><span class="k">summarize</span><span class="w"> </span>
<span class="w">    </span><span class="n">TotalResources</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">count</span><span class="p">(),</span>
<span class="w">    </span><span class="n">TotalMonthlyCost</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">MonthlyCost</span><span class="p">),</span>
<span class="w">    </span><span class="n">ResourceList</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">make_list</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="w">    </span><span class="k">by</span><span class="w"> </span><span class="n">Owner</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tags</span><span class="err">.</span><span class="n">Owner</span><span class="p">,</span><span class="w"> </span><span class="n">Application</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tags</span><span class="err">.</span><span class="n">Application</span>
<span class="p">|</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">TotalMonthlyCost</span><span class="w"> </span><span class="n">desc</span>
</code></pre></div>

<p>This finds resources <strong>scheduled for decommission</strong> but still running (and costing money).</p>
<h3 id="analysis-4-24-7-dev-environments">Analysis 4: 24/7 Dev Environments</h3>
<div class="codehilite"><pre><span></span><code><span class="n">Resources</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="s">&quot;microsoft.compute/virtualmachines&quot;</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">tags</span><span class="err">.</span><span class="n">Environment</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Dev&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;UAT&quot;</span><span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">Owner</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tags</span><span class="err">.</span><span class="n">Owner</span><span class="p">,</span><span class="w"> </span><span class="n">Application</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tags</span><span class="err">.</span><span class="n">Application</span>
<span class="p">|</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">kind</span><span class="p">=</span><span class="n">leftouter</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">AzureCostManagementExports</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">TimeGenerated</span><span class="w"> </span><span class="p">&gt;=</span><span class="w"> </span><span class="n">ago</span><span class="p">(</span><span class="mi">30</span><span class="n">d</span><span class="p">)</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span><span class="k">summarize</span><span class="w"> </span><span class="n">MonthlyCost</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">CostInBillingCurrency</span><span class="p">)</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">ResourceId</span>
<span class="p">)</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">ResourceId</span>
<span class="p">|</span><span class="w"> </span><span class="k">summarize</span><span class="w"> </span>
<span class="w">    </span><span class="n">VMCount</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">count</span><span class="p">(),</span>
<span class="w">    </span><span class="n">MonthlyCost</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">MonthlyCost</span><span class="p">),</span>
<span class="w">    </span><span class="n">PotentialSavings</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">MonthlyCost</span><span class="p">)</span><span class="w"> </span><span class="p">*</span><span class="w"> </span><span class="mf">0.65</span><span class="w">  </span><span class="c">// Assume 65% savings with auto-shutdown</span>
<span class="w">    </span><span class="k">by</span><span class="w"> </span><span class="n">Owner</span><span class="p">,</span><span class="w"> </span><span class="n">Application</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">MonthlyCost</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">1000</span>
<span class="p">|</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">PotentialSavings</span><span class="w"> </span><span class="n">desc</span>
</code></pre></div>

<p><strong>Dev/UAT VMs running 24/7</strong> are burning money. Implement auto-shutdown schedules (nights/weekends) for <strong>instant 65% savings</strong>.</p>
<hr />
<h2 id="phase-4-optimization-execution">Phase 4: Optimization Execution</h2>
<p>Now you execute√¢‚Ç¨‚Äùcarefully, with business context.</p>
<h3 id="quick-win-1-delete-orphaned-disks">Quick Win 1: Delete Orphaned Disks</h3>
<p><strong>Who to ask</strong>: Check the <code>Owner</code> tag<br />
<strong>Risk level</strong>: Low (if you verify backup/DR context first)<br />
<strong>Expected savings</strong>: $500-$5,000/month depending on environment size</p>
<div class="codehilite"><pre><span></span><code><span class="c"># Find and review orphaned disks</span>
<span class="nv">$orphanedDisks</span> <span class="p">=</span> <span class="nb">Get-AzDisk</span> <span class="p">|</span> <span class="nb">Where-Object</span> <span class="p">{</span><span class="nv">$_</span><span class="p">.</span><span class="n">ManagedBy</span> <span class="o">-eq</span> <span class="nv">$null</span><span class="p">}</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$disk</span> <span class="k">in</span> <span class="nv">$orphanedDisks</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;Disk: </span><span class="p">$(</span><span class="nv">$disk</span><span class="p">.</span><span class="n">Name</span><span class="p">)</span><span class="s2">&quot;</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;  Size: </span><span class="p">$(</span><span class="nv">$disk</span><span class="p">.</span><span class="n">DiskSizeGB</span><span class="p">)</span><span class="s2"> GB&quot;</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;  SKU: </span><span class="p">$(</span><span class="nv">$disk</span><span class="p">.</span><span class="n">Sku</span><span class="p">.</span><span class="n">Name</span><span class="p">)</span><span class="s2">&quot;</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;  Owner: </span><span class="p">$(</span><span class="nv">$disk</span><span class="p">.</span><span class="n">Tags</span><span class="p">.</span><span class="n">Owner</span><span class="p">)</span><span class="s2">&quot;</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;  Application: </span><span class="p">$(</span><span class="nv">$disk</span><span class="p">.</span><span class="n">Tags</span><span class="p">.</span><span class="n">Application</span><span class="p">)</span><span class="s2">&quot;</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;---&quot;</span>
<span class="p">}</span>

<span class="c"># After verification, delete (one at a time!)</span>
<span class="c"># Remove-AzDisk -ResourceGroupName &lt;rg&gt; -DiskName &lt;name&gt; -Force</span>
</code></pre></div>

<p><strong>NEVER bulk-delete</strong>√¢‚Ç¨‚Äùverify each disk individually with the owner.</p>
<h3 id="quick-win-2-auto-shutdown-dev-uat-vms">Quick Win 2: Auto-Shutdown Dev/UAT VMs</h3>
<div class="codehilite"><pre><span></span><code><span class="c"># Apply auto-shutdown to all Dev/UAT VMs</span>
<span class="nv">$vms</span> <span class="p">=</span> <span class="nb">Get-AzVM</span> <span class="p">|</span> <span class="nb">Where-Object</span> <span class="p">{</span><span class="nv">$_</span><span class="p">.</span><span class="n">Tags</span><span class="p">.</span><span class="n">Environment</span> <span class="n">-in</span> <span class="p">@(</span><span class="s2">&quot;Dev&quot;</span><span class="p">,</span> <span class="s2">&quot;UAT&quot;</span><span class="p">)}</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$vm</span> <span class="k">in</span> <span class="nv">$vms</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$properties</span> <span class="p">=</span> <span class="p">@{</span>
        <span class="n">status</span> <span class="p">=</span> <span class="s2">&quot;Enabled&quot;</span>
        <span class="n">taskType</span> <span class="p">=</span> <span class="s2">&quot;ComputeVmShutdownTask&quot;</span>
        <span class="n">dailyRecurrence</span> <span class="p">=</span> <span class="p">@{</span>
            <span class="n">time</span> <span class="p">=</span> <span class="s2">&quot;1900&quot;</span>  <span class="c"># 7 PM shutdown</span>
        <span class="p">}</span>
        <span class="n">timeZoneId</span> <span class="p">=</span> <span class="s2">&quot;Eastern Standard Time&quot;</span>
        <span class="n">notificationSettings</span> <span class="p">=</span> <span class="p">@{</span>
            <span class="n">status</span> <span class="p">=</span> <span class="s2">&quot;Enabled&quot;</span>
            <span class="n">timeInMinutes</span> <span class="p">=</span> <span class="n">30</span>
            <span class="n">emailRecipient</span> <span class="p">=</span> <span class="nv">$vm</span><span class="p">.</span><span class="n">Tags</span><span class="p">.</span><span class="n">Owner</span>
        <span class="p">}</span>
        <span class="n">targetResourceId</span> <span class="p">=</span> <span class="nv">$vm</span><span class="p">.</span><span class="n">Id</span>
    <span class="p">}</span>

    <span class="nb">New-AzResource</span> <span class="p">`</span>
        <span class="n">-ResourceId</span> <span class="p">(</span><span class="s2">&quot;/subscriptions/{0}/resourceGroups/{1}/providers/Microsoft.DevTestLab/schedules/shutdown-computevm-{2}&quot;</span> <span class="o">-f</span> <span class="nv">$vm</span><span class="p">.</span><span class="n">Id</span><span class="p">.</span><span class="n">Split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="n">2</span><span class="p">],</span> <span class="nv">$vm</span><span class="p">.</span><span class="n">ResourceGroupName</span><span class="p">,</span> <span class="nv">$vm</span><span class="p">.</span><span class="n">Name</span><span class="p">)</span> <span class="p">`</span>
        <span class="n">-Properties</span> <span class="nv">$properties</span> <span class="p">`</span>
        <span class="n">-Force</span>
<span class="p">}</span>
</code></pre></div>

<p>This creates <strong>auto-shutdown schedules</strong> for all dev/UAT VMs with owner notifications.</p>
<p><strong>Expected savings</strong>: 65% of dev/UAT compute costs (running 40 hours/week instead of 168 hours/week).</p>
<h3 id="medium-win-right-size-production-vms">Medium Win: Right-Size Production VMs</h3>
<p><strong>This is where people get burned</strong>√¢‚Ç¨‚Äùdon't just blindly downsize.</p>
<p><strong>Process</strong>:<br />
1. <strong>Identify candidates</strong> (high-spec VMs with low utilization)<br />
2. <strong>Gather 30+ days of metrics</strong> (not 7 days√¢‚Ç¨‚Äùthat's too short)<br />
3. <strong>Check with the application owner</strong> (understand usage patterns)<br />
4. <strong>Test in UAT first</strong> (never right-size directly in production)<br />
5. <strong>Schedule during maintenance window</strong> (not Tuesday at 2 PM)</p>
<div class="codehilite"><pre><span></span><code><span class="c">// Find right-sizing candidates</span>
<span class="n">Perf</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">TimeGenerated</span><span class="w"> </span><span class="p">&gt;=</span><span class="w"> </span><span class="n">ago</span><span class="p">(</span><span class="mi">30</span><span class="n">d</span><span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">ObjectName</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="s">&quot;Processor&quot;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">CounterName</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="s">&quot;% Processor Time&quot;</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">InstanceName</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="s">&quot;_Total&quot;</span>
<span class="p">|</span><span class="w"> </span><span class="k">summarize</span><span class="w"> </span>
<span class="w">    </span><span class="n">AvgCPU</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">avg</span><span class="p">(</span><span class="n">CounterValue</span><span class="p">),</span>
<span class="w">    </span><span class="n">MaxCPU</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">max</span><span class="p">(</span><span class="n">CounterValue</span><span class="p">),</span>
<span class="w">    </span><span class="n">P95CPU</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">percentile</span><span class="p">(</span><span class="n">CounterValue</span><span class="p">,</span><span class="w"> </span><span class="mi">95</span><span class="p">)</span>
<span class="w">    </span><span class="k">by</span><span class="w"> </span><span class="n">Computer</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">P95CPU</span><span class="w"> </span><span class="p">&lt;</span><span class="w"> </span><span class="mi">30</span><span class="w">  </span><span class="c">// 95th percentile under 30%</span>
<span class="p">|</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">kind</span><span class="p">=</span><span class="n">inner</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">Resources</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="s">&quot;microsoft.compute/virtualmachines&quot;</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">tags</span><span class="err">.</span><span class="n">Environment</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="s">&quot;Production&quot;</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span>
<span class="w">        </span><span class="n">VMSize</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">properties</span><span class="err">.</span><span class="n">hardwareProfile</span><span class="err">.</span><span class="n">vmSize</span><span class="p">,</span>
<span class="w">        </span><span class="n">Owner</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tags</span><span class="err">.</span><span class="n">Owner</span><span class="p">,</span>
<span class="w">        </span><span class="n">Application</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tags</span><span class="err">.</span><span class="n">Application</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span><span class="k">project</span><span class="w"> </span><span class="n">Computer</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">VMSize</span><span class="p">,</span><span class="w"> </span><span class="n">Owner</span><span class="p">,</span><span class="w"> </span><span class="n">Application</span>
<span class="p">)</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">Computer</span>
<span class="p">|</span><span class="w"> </span><span class="k">project</span><span class="w"> </span><span class="n">Computer</span><span class="p">,</span><span class="w"> </span><span class="n">VMSize</span><span class="p">,</span><span class="w"> </span><span class="n">AvgCPU</span><span class="p">,</span><span class="w"> </span><span class="n">MaxCPU</span><span class="p">,</span><span class="w"> </span><span class="n">P95CPU</span><span class="p">,</span><span class="w"> </span><span class="n">Owner</span><span class="p">,</span><span class="w"> </span><span class="n">Application</span>
<span class="p">|</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">P95CPU</span><span class="w"> </span><span class="n">asc</span>
</code></pre></div>

<p><strong>Red flags to watch for</strong>:<br />
- Batch processing workloads (CPU spikes at specific times)<br />
- Month-end/quarter-end processing (need capacity for peak periods)<br />
- Upcoming business growth (bad time to downsize)</p>
<h3 id="big-win-decommission-zombie-applications">Big Win: Decommission Zombie Applications</h3>
<p><strong>This is where real savings happen</strong>√¢‚Ç¨‚Äùnot optimization, elimination.</p>
<p><strong>Zombie app checklist</strong>:<br />
- [ ] No deployments in 6+ months<br />
- [ ] No users in access logs<br />
- [ ] Owner has left the company<br />
- [ ] Nobody remembers what it does<br />
- [ ] "Temporary" dev project from 2019</p>
<p><strong>Process</strong>:<br />
1. <strong>Identify via tags and metrics</strong><br />
2. <strong>Email owner (use <code>Owner</code> tag)</strong><br />
3. <strong>Wait 2 weeks for response</strong><br />
4. <strong>Snapshot/backup everything</strong><br />
5. <strong>Shut down (don't delete) for 30 days</strong><br />
6. <strong>If nobody complains, delete</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c">// Find zombie app candidates</span>
<span class="n">Resources</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">tags</span><span class="w"> </span><span class="k">contains</span><span class="w"> </span><span class="s">&quot;Application&quot;</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span>
<span class="w">    </span><span class="n">Application</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tostring</span><span class="p">(</span><span class="n">tags</span><span class="err">.</span><span class="n">Application</span><span class="p">),</span>
<span class="w">    </span><span class="n">Owner</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tostring</span><span class="p">(</span><span class="n">tags</span><span class="err">.</span><span class="n">Owner</span><span class="p">),</span>
<span class="w">    </span><span class="n">LastDeployment</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">todatetime</span><span class="p">(</span><span class="n">tags</span><span class="err">.</span><span class="n">LastDeployment</span><span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">LastDeployment</span><span class="w"> </span><span class="p">&lt;</span><span class="w"> </span><span class="n">ago</span><span class="p">(</span><span class="mi">180</span><span class="n">d</span><span class="p">)</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">isempty</span><span class="p">(</span><span class="n">LastDeployment</span><span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">kind</span><span class="p">=</span><span class="n">leftouter</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">AzureCostManagementExports</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">TimeGenerated</span><span class="w"> </span><span class="p">&gt;=</span><span class="w"> </span><span class="n">ago</span><span class="p">(</span><span class="mi">30</span><span class="n">d</span><span class="p">)</span>
<span class="w">    </span><span class="p">|</span><span class="w"> </span><span class="k">summarize</span><span class="w"> </span><span class="n">MonthlyCost</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">CostInBillingCurrency</span><span class="p">)</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">ResourceId</span>
<span class="p">)</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">ResourceId</span>
<span class="p">|</span><span class="w"> </span><span class="k">summarize</span><span class="w"> </span>
<span class="w">    </span><span class="n">ResourceCount</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">count</span><span class="p">(),</span>
<span class="w">    </span><span class="n">TotalMonthlyCost</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">MonthlyCost</span><span class="p">),</span>
<span class="w">    </span><span class="n">Resources</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">make_list</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="w">    </span><span class="k">by</span><span class="w"> </span><span class="n">Application</span><span class="p">,</span><span class="w"> </span><span class="n">Owner</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">ResourceCount</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="c">// More than 3 resources = actual app</span>
<span class="p">|</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">TotalMonthlyCost</span><span class="w"> </span><span class="n">desc</span>
</code></pre></div>

<p><strong>Expected savings</strong>: $10,000-$50,000/month per zombie application decommissioned. This decommissioning process should be part of your broader <a href="/blog/cloud-migration-reality-check/">Azure migration planning</a>, ensuring you're not just migrating technical debt to the cloud.</p>
<hr />
<h2 id="phase-5-continuous-governance">Phase 5: Continuous Governance</h2>
<p>Optimization is ongoing√¢‚Ç¨‚Äùimplement these to prevent cost regression.</p>
<h3 id="governance-1-monthly-cost-review-meetings">Governance 1: Monthly Cost Review Meetings</h3>
<p><strong>Who</strong>: Finance + IT + Application Owners<br />
<strong>Frequency</strong>: Monthly<br />
<strong>Agenda</strong>:<br />
- Top 10 cost increases month-over-month<br />
- New resources created (review for approval)<br />
- Optimization wins achieved<br />
- Next month's targets</p>
<p><strong>Make it data-driven</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="c">// Month-over-month cost changes by application</span>
<span class="n">AzureCostManagementExports</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">TimeGenerated</span><span class="w"> </span><span class="p">&gt;=</span><span class="w"> </span><span class="n">ago</span><span class="p">(</span><span class="mi">60</span><span class="n">d</span><span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">Month</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">startofmonth</span><span class="p">(</span><span class="n">TimeGenerated</span><span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">Application</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tostring</span><span class="p">(</span><span class="n">tags</span><span class="err">.</span><span class="n">Application</span><span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">summarize</span><span class="w"> </span><span class="n">MonthlyCost</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">CostInBillingCurrency</span><span class="p">)</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">Month</span><span class="p">,</span><span class="w"> </span><span class="n">Application</span>
<span class="p">|</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">Month</span><span class="w"> </span><span class="n">desc</span><span class="p">,</span><span class="w"> </span><span class="n">MonthlyCost</span><span class="w"> </span><span class="n">desc</span>
<span class="p">|</span><span class="w"> </span><span class="k">serialize</span><span class="w"> </span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">PreviousMonthCost</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">prev</span><span class="p">(</span><span class="n">MonthlyCost</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">CostChange</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">MonthlyCost</span><span class="w"> </span><span class="p">-</span><span class="w"> </span><span class="n">PreviousMonthCost</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">PercentChange</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">round</span><span class="p">((</span><span class="n">CostChange</span><span class="w"> </span><span class="p">/</span><span class="w"> </span><span class="n">PreviousMonthCost</span><span class="p">)</span><span class="w"> </span><span class="p">*</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">abs</span><span class="p">(</span><span class="n">PercentChange</span><span class="p">)</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">20</span><span class="w">  </span><span class="c">// Flag changes &gt; 20%</span>
<span class="p">|</span><span class="w"> </span><span class="k">project</span><span class="w"> </span><span class="n">Application</span><span class="p">,</span><span class="w"> </span><span class="n">Month</span><span class="p">,</span><span class="w"> </span><span class="n">MonthlyCost</span><span class="p">,</span><span class="w"> </span><span class="n">PreviousMonthCost</span><span class="p">,</span><span class="w"> </span><span class="n">CostChange</span><span class="p">,</span><span class="w"> </span><span class="n">PercentChange</span>
</code></pre></div>

<h3 id="governance-2-azure-policy-for-prevention">Governance 2: Azure Policy for Prevention</h3>
<p><strong>Block untagged resources</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Indexed&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;policyRule&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;if&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span><span class="nt">&quot;field&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tags[&#39;Environment&#39;]&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;exists&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="nt">&quot;field&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tags[&#39;Owner&#39;]&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;exists&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="nt">&quot;field&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tags[&#39;CostCenter&#39;]&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;exists&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;false&quot;</span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;then&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;effect&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;deny&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Block oversized dev VMs</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Indexed&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;policyRule&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;if&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;allOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span><span class="nt">&quot;field&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;type&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;equals&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Microsoft.Compute/virtualMachines&quot;</span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="nt">&quot;field&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tags[&#39;Environment&#39;]&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;in&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Dev&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;UAT&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Test&quot;</span><span class="p">]},</span>
<span class="w">        </span><span class="p">{</span><span class="nt">&quot;field&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Microsoft.Compute/virtualMachines/sku.name&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;like&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Standard_D16*&quot;</span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;then&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;effect&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;deny&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Require auto-shutdown for dev/UAT</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Indexed&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;policyRule&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;if&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;allOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span><span class="nt">&quot;field&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;type&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;equals&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Microsoft.Compute/virtualMachines&quot;</span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="nt">&quot;field&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tags[&#39;Environment&#39;]&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;in&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Dev&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;UAT&quot;</span><span class="p">]}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;then&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;effect&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;deployIfNotExists&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;details&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Microsoft.DevTestLab/schedules&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;roleDefinitionIds&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;/providers/Microsoft.Authorization/roleDefinitions/9980e02c-c2be-4d73-94e8-173b1dc7cf3c&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;deployment&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="c1">// Auto-shutdown deployment template</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="governance-3-weekly-optimization-dashboard">Governance 3: Weekly Optimization Dashboard</h3>
<p>Build a <strong>Power BI dashboard</strong> (or Azure Workbook) showing:<br />
- Total Azure spend (this month vs. last month)<br />
- Top 10 cost contributors by application<br />
- Untagged resource count<br />
- Orphaned disk count<br />
- Dev/UAT VMs without auto-shutdown</p>
<p><strong>Make it visible</strong>√¢‚Ç¨‚Äùemail it to leadership weekly. Transparency drives action.</p>
<hr />
<h2 id="stakeholder-management">Stakeholder Management</h2>
<p>Cost optimization is 50% technical, 50% political. Here's how to navigate it.</p>
<h3 id="with-finance">With Finance</h3>
<p><strong>What they care about</strong>: Predictability, chargeback, accountability<br />
<strong>Your message</strong>: "I can show you who's spending what√¢‚Ç¨‚Äùbut I need tagging budget and time."<br />
<strong>Win</strong>: Get them to mandate tagging at the executive level</p>
<h3 id="with-application-owners">With Application Owners</h3>
<p><strong>What they care about</strong>: Uptime, performance, not getting blamed<br />
<strong>Your message</strong>: "I'm here to help reduce <em>your</em> costs√¢‚Ç¨‚Äùlet's find waste together."<br />
<strong>Win</strong>: Frame optimization as <em>their</em> budget win, not IT's mandate</p>
<h3 id="with-leadership">With Leadership</h3>
<p><strong>What they care about</strong>: Big savings numbers, minimal risk<br />
<strong>Your message</strong>: "We can save 30% over 6 months√¢‚Ç¨‚Äùhere's the phased plan with risk mitigation."<br />
<strong>Win</strong>: Get executive sponsorship for decommissioning zombie apps</p>
<h3 id="with-infosec-compliance">With InfoSec/Compliance</h3>
<p><strong>What they care about</strong>: Not breaking audit requirements<br />
<strong>Your message</strong>: "Every change will be documented, tested, and reversible."<br />
<strong>Win</strong>: Get their sign-off on retention policies for deleted resources</p>
<hr />
<h2 id="common-pitfalls">Common Pitfalls</h2>
<h3 id="pitfall-1-optimizing-without-context">Pitfall 1: Optimizing Without Context</h3>
<p><strong>Symptom</strong>: Following Azure Advisor blindly<br />
<strong>Result</strong>: Breaking production, angry users, rolled-back changes<br />
<strong>Fix</strong>: Always check tags, ask owners, test in UAT first</p>
<h3 id="pitfall-2-no-tagging-foundation">Pitfall 2: No Tagging Foundation</h3>
<p><strong>Symptom</strong>: Can't answer "who owns this resource?"<br />
<strong>Result</strong>: Paralysis√¢‚Ç¨‚Äùtoo risky to change anything<br />
<strong>Fix</strong>: Stop all optimization until tagging is 80%+ complete</p>
<h3 id="pitfall-3-one-time-cleanup">Pitfall 3: One-Time Cleanup</h3>
<p><strong>Symptom</strong>: Big savings in Month 1, regression by Month 6<br />
<strong>Result</strong>: CFO asks "why are costs back up?"<br />
<strong>Fix</strong>: Implement governance policies and monthly reviews</p>
<h3 id="pitfall-4-no-executive-sponsorship">Pitfall 4: No Executive Sponsorship</h3>
<p><strong>Symptom</strong>: Application owners ignore your decommission requests<br />
<strong>Result</strong>: Zombie apps keep running indefinitely<br />
<strong>Fix</strong>: Get C-level mandate: "Owners have 30 days to respond or resources get shut down"</p>
<h3 id="pitfall-5-over-optimizing-dev-test">Pitfall 5: Over-Optimizing Dev/Test</h3>
<p><strong>Symptom</strong>: Developers can't get work done, submit tickets constantly<br />
<strong>Result</strong>: Productivity loss exceeds cost savings<br />
<strong>Fix</strong>: Right-size dev environments but don't cripple them</p>
<hr />
<h2 id="the-6-month-roadmap">The 6-Month Roadmap</h2>
<p>Here's the realistic timeline for meaningful cost reduction:</p>
<h3 id="month-1-2-foundation">Month 1-2: Foundation</h3>
<ul>
<li>Complete resource inventory</li>
<li>Establish tagging schema</li>
<li>Begin tagging high-cost subscriptions</li>
<li>Set up cost tracking dashboard</li>
</ul>
<h3 id="month-3-4-quick-wins">Month 3-4: Quick Wins</h3>
<ul>
<li>Delete orphaned disks</li>
<li>Implement auto-shutdown for dev/UAT</li>
<li>Right-size obvious oversized VMs</li>
<li>Savings: <strong>10-15%</strong></li>
</ul>
<h3 id="month-5-6-strategic-optimization">Month 5-6: Strategic Optimization</h3>
<ul>
<li>Decommission first zombie application</li>
<li>Review and optimize reserved instances</li>
<li>Implement cost governance policies</li>
<li>Establish monthly review process</li>
<li>Savings: <strong>20-30%</strong> cumulative</li>
</ul>
<h3 id="month-7-sustained-optimization">Month 7+: Sustained Optimization</h3>
<ul>
<li>Continuous improvement</li>
<li>Quarterly architecture reviews</li>
<li>New application cost approval process</li>
<li>Savings: <strong>30-40%</strong> sustained</li>
</ul>
<hr />
<h2 id="final-reality-check">Final Reality Check</h2>
<p><strong>Azure cost optimization is not a sprint√¢‚Ç¨‚Äùit's a marathon.</strong></p>
<p>You won't save 40% in Month 1. Anyone who promises that is lying.</p>
<p>What you <em>will</em> do:<br />
- Build a foundation (tagging, inventory, governance)<br />
- Capture quick wins (orphaned resources, auto-shutdown)<br />
- Make strategic decisions (decommission zombies, right-size thoughtfully)<br />
- Implement prevention (policies, reviews, accountability)</p>
<p>The enterprises I've worked with that succeeded had three things:<br />
1. <strong>Executive sponsorship</strong> (CFO + CTO aligned)<br />
2. <strong>Business context</strong> (tags, tags, tags)<br />
3. <strong>Patience</strong> (6-month roadmap, not 2-week heroics)</p>
<p>Skip any of these and you'll either:<br />
- Save nothing (no executive mandate)<br />
- Break production (no business context)<br />
- Create one-time savings that regress (no governance)</p>
<hr />
<h2 id="next-steps">Next Steps</h2>
<p><strong>Week 1-2</strong>: Run the baseline KQL queries in this guide<br />
<strong>Week 3-4</strong>: Define your tagging schema and get executive approval<br />
<strong>Week 5-6</strong>: Start tagging (high-cost subscriptions first)<br />
<strong>Week 7-8</strong>: Execute your first quick wins<br />
<strong>Month 3+</strong>: Build governance and keep optimizing</p>
<p>This isn't theory. This is the exact process I've used across multiple Azure environments.</p>
<p>It works√¢‚Ç¨‚Äùif you commit to the full framework, not just cherry-picking the easy parts.</p>
<p><strong>Good luck. You've got this.</strong> √∞≈∏≈°‚Ç¨</p>
<hr />
<h3 id="optimization-requires-authority">üõë Optimization Requires Authority</h3>
<p>You can identify waste, but can you delete it?<br />
<strong><a href="https://davidnoob.gumroad.com/l/ifojm?ref=cost-batch-guide">Download the Azure RACI Matrix</a></strong> to give your FinOps team the authority to decommission zombie resources.</p>
<div class="downloads" style="text-align: center; margin-top: 2rem;">
  <a class="btn" href="https://davidnoob.gumroad.com/l/ifojm?ref=cost-batch-guide" style="font-size: 1.2em; padding: 15px 30px; background-color: #0078d4; color: white;">Get the Optimization RACI</a>
  <div class="preview-block" style="margin-top: 10px; font-size: 0.9em; color: #555;">
     <span>‚úÖ Roles Included</span> ‚Ä¢ <span>üí≤ Price: $29</span> ‚Ä¢ <span>üìä Excel Format</span>
  </div>
</div>

<p><strong>Want the KQL queries from this guide in a ready-to-use format?</strong> Check out my <a href="#">Azure Cost Optimization KQL Library on GitHub</a>√¢‚Ç¨‚Äùall queries organized, tested, and ready to copy/paste.</p>
<hr />
<h2 id="ready-for-production-ready-queries">üéØ Ready for Production-Ready Queries?</h2>
<p>This guide covers the basics, but <strong>scaling to 30,000+ resources requires battle-tested patterns.</strong></p>
<p><strong>The Complete KQL Query Library includes:</strong><br />
- ‚úÖ 48 copy-paste ready queries (VMs, networking, security, cost)<br />
- ‚úÖ Advanced joins (VMs ‚Üí NICs ‚Üí Disks ‚Üí Subnets ‚Üí Subscriptions)<br />
- ‚úÖ Enterprise-scale tested on 31,000+ resources<br />
- ‚úÖ Performance optimization for massive environments<br />
- ‚úÖ SQL to KQL translation guide<br />
- ‚úÖ Lifetime updates</p>
<p><strong>Launch price: $19</strong> (regular $29)</p>
<p><a href="https://davidnoob.gumroad.com/l/hooih">Get the Complete KQL Library ‚Üí</a></p>
<hr />
  </div>

  
  <section class="starter-kit-callout" style="
    max-width: 800px;
    margin: 3rem auto 2rem;
    padding: 2rem;
    border-radius: 12px;
    background: var(--bg-light);
    border: 1px solid var(--border);
    text-align: left;
  ">
    <h3 style="margin-top: 0;">Azure Admin Starter Kit (Free Download)</h3>
    <p style="margin-bottom: 1rem;">
      Get my KQL cheat sheet, 50 Windows + 50 Linux commands, and an Azure RACI template in one free bundle.
    </p>
    <a href="/blog/starter-kit/" class="btn">Get the Starter Kit ‚Üí</a>
  </section>



  
  
  <aside class="related-posts" style="max-width: 800px; margin: 3rem auto; padding: 2rem; background: var(--bg-light); border-radius: 12px;">
    <h3 style="margin-top: 0;">Related Posts</h3>
    <ul style="list-style: none; padding: 0;">
      
      <li style="margin: 1rem 0;">
        <a href="/blog/pull-meta-from-arm/" style="display: block; padding: 1rem; background: white; border-radius: 8px; border: 1px solid var(--border); transition: all 0.2s ease;">
          <span class="related-title" style="font-weight: 700; display: block; color: var(--text-dark);">Azure Resource Graph: Pull ARM Metadata at Scale (Production KQL Patterns)</span>
          <span class="related-meta" style="color: var(--text-muted); font-size: 0.9rem;">2025-11-10</span>
        </a>
      </li>
      
      <li style="margin: 1rem 0;">
        <a href="/blog/azure-cost-optimization-facade/" style="display: block; padding: 1rem; background: white; border-radius: 8px; border: 1px solid var(--border); transition: all 0.2s ease;">
          <span class="related-title" style="font-weight: 700; display: block; color: var(--text-dark);">The Azure Advisor Facade: Why Real Optimization Works Differently (2025)</span>
          <span class="related-meta" style="color: var(--text-muted); font-size: 0.9rem;">2025-11-03</span>
        </a>
      </li>
      
      <li style="margin: 1rem 0;">
        <a href="/blog/azure-resource-tags-guide/" style="display: block; padding: 1rem; background: white; border-radius: 8px; border: 1px solid var(--border); transition: all 0.2s ease;">
          <span class="related-title" style="font-weight: 700; display: block; color: var(--text-dark);">Azure Tagging Best Practices 2025: The Guide to Hidden Costs &amp; Governance</span>
          <span class="related-meta" style="color: var(--text-muted); font-size: 0.9rem;">2025-09-23</span>
        </a>
      </li>
      
    </ul>
  </aside>
  

  
  
  
    <!-- CTA: FinOps Resources -->
<div class="cta-block" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 2rem; border-radius: 8px; margin: 3rem 0; text-align: center; color: white;">
  <h3 style="margin: 0 0 1rem; font-size: 1.75rem; color: white;">üí∞ Stop Guessing at Azure Costs</h3>
  <p style="margin: 0 0 1.5rem; font-size: 1.1rem; line-height: 1.6;">
    Get the <strong>Azure FinOps Framework</strong> with cost allocation templates, tag governance policies, 
    and showback dashboards that finance actually understands.
  </p>
  <a href="/static/downloads/Azure-Integration-Assessment-Framework.xlsx" 
     download
     style="display: inline-block; padding: 0.75rem 2rem; background: white; color: #667eea; text-decoration: none; border-radius: 6px; font-weight: 700; font-size: 1.1rem; box-shadow: 0 4px 12px rgba(0,0,0,0.15); transition: all 0.3s ease;"
     onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(0,0,0,0.2)'"
     onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(0,0,0,0.15)'">
    Download FinOps Framework
  </a>
  <p style="margin: 1rem 0 0; font-size: 0.9rem; opacity: 0.9;">
    Excel template ‚Ä¢ KQL queries included ‚Ä¢ No email required
  </p>
</div>
  

  
  <nav class="post-nav">
    
      <a href="/blog/azure-cost-optimization-facade/">
        <span style="opacity: 0.7; font-size: 0.85rem; display: block; margin-bottom: 0.25rem;">‚Üê Previous</span>
        <strong>The Azure Advisor Facade: Why Real Optimization Works Differently (2025)</strong>
      </a>
    
    
      <a href="/blog/terraform-azure-devops-cicd-part2-build-pipelines/" style="text-align: right;">
        <span style="opacity: 0.7; font-size: 0.85rem; display: block; margin-bottom: 0.25rem;">Next ‚Üí</span>
        <strong>Terraform + Azure DevOps CI/CD: Part 2 - Build Pipelines (Status Check &amp; Plan)</strong>
      </a>
    
  </nav>

</article>

    </div>
  </main>

  <footer class="site-footer">
    <div class="wrap">
      <p>&copy; 2026 Azure Noob ‚Äî Don&#39;t be a Noob</p>
      <p style="margin-top: 0.5rem; font-size: 0.9rem;">
        <a href="/feed.xml" title="Subscribe via RSS">RSS Feed</a> ¬∑ 
        <a href="https://github.com/dswann101164" target="_blank" rel="noopener">GitHub</a>
      </p>
      <p style="margin-top: 1.5rem; font-size: 0.85rem; opacity: 0.7; font-style: italic;">
        "Trust in the Lord with all your heart, and lean not on your own understanding;<br>
        in all your ways acknowledge Him, and He will make your paths straight" ‚Äî Proverbs 3:5-6
      </p>
    </div>
  </footer>

  <!-- Copy code functionality -->
  <script src="/static/copy-code.js"></script>


</body>
</html>