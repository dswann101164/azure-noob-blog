<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  

  <!-- Primary SEO -->
  <title>Azure Noob</title>
  <meta name="description" content="Don&#39;t be a Noob">
  <link rel="canonical" href="https://azure-noob.com" />

  <!-- Favicons -->
  <link rel="icon" href="../../static/images/logo.png">

  <!-- Open Graph -->
  <meta property="og:title" content="Azure Noob">
  <meta property="og:description" content="Don&#39;t be a Noob">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://azure-noob.com">
  <meta property="og:image" content="../../static/images/hero/cloud-wars.png">

  

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Azure Noob">
  <meta name="twitter:description" content="Don&#39;t be a Noob">
  <meta name="twitter:image" content="../../static/images/hero/cloud-wars.png">

  <!-- Styles -->
  <link rel="stylesheet" href="../../static/styles.css">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZNHGEB0BNZ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-ZNHGEB0BNZ');
  </script>
</head>
<body>
  <header class="site-header">
    <div class="wrap nav-wrap">
      <div class="brand-block">
        <a href="../../index.html" class="brand-link">
          <img src="../../static/images/logo.png" alt="Azure Noob logo" class="logo">
        </a>
        <span class="brand-text">
          <small>Official Website of</small>
          <strong>Azure Noob</strong>
        </span>
      </div>
      <nav class="nav">
        <a href="../../index.html">Home</a>
        <a href="../index.html">Blog</a>
        <a href="../../about/index.html">About</a>
        <a href="../../tags/index.html">Tags</a>
        <a href="../../search/index.html">Search</a>
      </nav>
    </div>
  </header>

  <main class="site-content">
    <div class="wrap">
      
<article class="post">

  
  
    
    <div class="hero">
      <img src="../../static/images/hero/patch-management-confusion.svg" alt="SCCM, WSUS, Azure Update Manager, Intune: Which One Do I Actually Use?">
    </div>
  

  <header class="post-header">
    <h1>SCCM, WSUS, Azure Update Manager, Intune: Which One Do I Actually Use?</h1>
    <p class="muted">
      2025-10-09 ¬∑ ~28 min read
    </p>
    
    
    <ul class="tags-list">
      
      <li><a href="../../tags/Azure/index.html" class="tag-badge">Azure</a></li>
      
      <li><a href="../../tags/SCCM/index.html" class="tag-badge">SCCM</a></li>
      
      <li><a href="../../tags/WSUS/index.html" class="tag-badge">WSUS</a></li>
      
      <li><a href="../../tags/Intune/index.html" class="tag-badge">Intune</a></li>
      
      <li><a href="../../tags/Azure%20Update%20Manager/index.html" class="tag-badge">Azure Update Manager</a></li>
      
      <li><a href="../../tags/Patch%20Management/index.html" class="tag-badge">Patch Management</a></li>
      
      <li><a href="../../tags/Operations/index.html" class="tag-badge">Operations</a></li>
      
    </ul>
    
    
    
      <p class="summary">Three Microsoft reps gave me three different answers about patching Azure VMs. Here&#39;s what each tool actually does, which workloads need which tool, and why you need multiple tools during enterprise migration. The decision matrix Microsoft won&#39;t publish.</p>
    
  </header>

  
  <p class="post-actions" style="margin:.5rem 0 0; text-align: center;">
    <button class="btn"
            onclick="window.print(); return false;"
            title="Print this page"
            aria-label="Print this page"
            style="cursor: pointer; background: none; border: 2px solid var(--azure-blue);">
      üñ®Ô∏è Print this page
    </button>
  </p>

  
  <div class="post-body">
    <p>Three different Microsoft people told me three different answers about how to patch our Azure VMs.</p>
<p><strong>Configuration Manager rep:</strong> "Keep using SCCM for everything, including Azure."</p>
<p><strong>Azure architect:</strong> "Use Azure Update Manager, it's cloud-native and free."</p>
<p><strong>Modern Workplace consultant:</strong> "Migrate to Intune, retire SCCM."</p>
<p>They all work for Microsoft. They all contradicted each other.</p>
<p>Nobody explained which tool to use for which workload.</p>
<h2>The Problem: Microsoft Has 4 Patching Solutions</h2>
<p>Managing a large enterprise environment with dozens of Azure subscriptions, hybrid infrastructure, and an active migration in progress, here's what Microsoft offers for patching:</p>
<p><strong>WSUS (Windows Server Update Services):</strong><br />
- Free, built into Windows Server<br />
- Manual patch approvals<br />
- On-prem only<br />
- What enterprises used before SCCM</p>
<p><strong>SCCM/Configuration Manager:</strong><br />
- Enterprise systems management<br />
- Application deployment, OS deployment, inventory<br />
- On-prem infrastructure required<br />
- <strong>Requires WSUS for patching</strong></p>
<p><strong>Azure Update Manager:</strong><br />
- Cloud-native patching for Azure VMs<br />
- No infrastructure required<br />
- Free (part of Azure platform)<br />
- <strong>Patching only - no app deployment</strong></p>
<p><strong>Intune:</strong><br />
- Modern device management for endpoints<br />
- Cloud-first, designed for Windows 10/11 workstations<br />
- Co-management with ConfigMgr possible<br />
- $6-8/device/month</p>
<p><strong>The question everyone asks:</strong> "Which one should I use?"</p>
<p><strong>The answer nobody gives:</strong> "All of them, depending on the workload."</p>
<h2>What Each Tool Actually Does</h2>
<h3>WSUS: The Foundation You Can't Kill</h3>
<p><strong>What Microsoft says:</strong><br />
"Windows Server Update Services provides update management for Microsoft products."</p>
<p><strong>What it actually is:</strong><br />
- Free Windows Server role<br />
- Downloads updates from Microsoft<br />
- Distributes to endpoints<br />
- Manual approval workflow</p>
<p><strong>The critical detail nobody mentions:</strong><br />
SCCM requires WSUS to function. SCCM doesn't patch by itself - it uses WSUS as the backend.</p>
<p><strong>This means:</strong><br />
- If you have SCCM, you have WSUS (embedded)<br />
- You can't "just use SCCM" without WSUS infrastructure<br />
- WSUS exists whether you see it or not</p>
<p><strong>What WSUS does:</strong><br />
- ‚úÖ Patches Windows servers and desktops<br />
- ‚úÖ Patches Microsoft products (Office, SQL, etc.)<br />
- ‚ùå No application deployment<br />
- ‚ùå No third-party patching (without add-ons)<br />
- ‚ùå Limited reporting<br />
- ‚ùå Manual approval workflow</p>
<p><strong>When to use WSUS standalone:</strong><br />
- Small environment (&lt; 100 servers)<br />
- Simple patching needs<br />
- No budget for SCCM<br />
- No complex app deployment requirements</p>
<p><strong>Reality check:</strong><br />
Most enterprises outgrow WSUS quickly. It works, but it's manual and limited.</p>
<h3>SCCM: The Enterprise Kitchen Sink</h3>
<p><strong>What Microsoft says:</strong><br />
"Microsoft Endpoint Configuration Manager provides comprehensive management of servers, workstations, and mobile devices."</p>
<p><strong>What it actually is:</strong><br />
- Full systems management platform<br />
- Application deployment<br />
- OS deployment and imaging<br />
- Hardware/software inventory<br />
- Compliance reporting<br />
- <strong>Uses WSUS for patching backend</strong></p>
<p><strong>The architecture:</strong></p>
<div class="codehilite"><pre><span></span><code>SCCM (management layer)
    ‚Üì
WSUS (patching backend)
    ‚Üì
Endpoints
</code></pre></div>

<p><strong>What SCCM does:</strong><br />
- ‚úÖ Application deployment (complex multi-tier apps)<br />
- ‚úÖ OS deployment and imaging<br />
- ‚úÖ Patch management (via integrated WSUS)<br />
- ‚úÖ Hardware/software inventory<br />
- ‚úÖ Compliance and reporting<br />
- ‚úÖ Works on-prem and Azure (with agent)<br />
- ‚ùå Complex to maintain<br />
- ‚ùå Requires SQL Server, distribution points, site servers<br />
- ‚ùå Expensive (licensing + infrastructure)</p>
<p><strong>When to use SCCM:</strong><br />
- Need application deployment (not just patching)<br />
- Complex enterprise environment<br />
- On-prem infrastructure still exists<br />
- Multi-tier application deployments<br />
- OS imaging requirements</p>
<p><strong>Reality check:</strong><br />
SCCM is overkill if you only need patching. But if you need app deployment for servers, it's the only Microsoft option.</p>
<h3>Azure Update Manager: Cloud-Native Patching Only</h3>
<p><strong>What Microsoft says:</strong><br />
"Azure Update Manager is a unified service to help manage and govern updates for all your machines."</p>
<p><strong>What it actually is:</strong><br />
- Cloud-native patching service<br />
- Free for Azure VMs<br />
- $5/month for Arc-enabled on-prem servers<br />
- <strong>Patching only - zero app deployment</strong></p>
<p><strong>What Azure Update Manager does:</strong><br />
- ‚úÖ Patch Azure VMs (Windows + Linux)<br />
- ‚úÖ Schedule patching with maintenance windows<br />
- ‚úÖ Compliance reporting in Azure Portal<br />
- ‚úÖ Free for Azure VMs<br />
- ‚úÖ No infrastructure to maintain<br />
- ‚ùå <strong>Cannot deploy applications</strong><br />
- ‚ùå Cannot image/deploy OS<br />
- ‚ùå On-prem servers require Azure Arc ($$$)<br />
- ‚ùå No complex orchestration (patch server 1, then 2, then restart app)</p>
<p><strong>When to use Azure Update Manager:</strong><br />
- Azure VMs that only need patching<br />
- No complex app deployment requirements<br />
- Want to avoid SCCM infrastructure in cloud<br />
- Simple maintenance window needs</p>
<p><strong>When NOT to use it:</strong><br />
- Need application deployment<br />
- Complex patching dependencies<br />
- On-prem servers (unless you want to pay for Arc)</p>
<p><strong>Reality check:</strong><br />
Perfect for simple Azure VM patching. Useless if you need app deployment.</p>
<h3>Intune: Modern Management for Endpoints</h3>
<p><strong>What Microsoft says:</strong><br />
"Microsoft Intune is a cloud-based endpoint management solution."</p>
<p><strong>What it actually is:</strong><br />
- Cloud-based device management<br />
- Designed for Windows 10/11 workstations and mobile devices<br />
- Application deployment included<br />
- <strong>NOT for servers</strong></p>
<p><strong>What Intune does:</strong><br />
- ‚úÖ Manage Windows 10/11 desktops/laptops<br />
- ‚úÖ Mobile device management (iOS, Android)<br />
- ‚úÖ Application deployment for endpoints<br />
- ‚úÖ Conditional access policies<br />
- ‚úÖ Cloud-native, no on-prem infrastructure<br />
- ‚ùå <strong>Not designed for Windows Server</strong><br />
- ‚ùå Limited server management features<br />
- ‚ùå Can't replace SCCM for server workloads</p>
<p><strong>When to use Intune:</strong><br />
- Windows 10/11 workstations<br />
- Laptops and mobile devices<br />
- BYOD scenarios<br />
- Cloud-first strategy</p>
<p><strong>When NOT to use it:</strong><br />
- Windows Servers (use SCCM or Azure Update Manager)<br />
- Complex server application deployment<br />
- On-prem-heavy environment</p>
<p><strong>Reality check:</strong><br />
Intune is the future for endpoints. It's NOT the future for servers.</p>
<h2>The Decision Matrix Microsoft Won't Publish</h2>
<p>Here's what you actually need based on your workload:</p>
<table>
<thead>
<tr>
<th>Your Workload</th>
<th>Tool to Use</th>
<th>Why</th>
<th>Cost</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>On-prem servers</strong></td>
<td>SCCM (includes WSUS)</td>
<td>Can't use Azure Update Manager without Arc</td>
<td>SCCM license + infrastructure</td>
</tr>
<tr>
<td><strong>Azure VMs that need apps</strong></td>
<td>SCCM (includes WSUS)</td>
<td>Only tool that deploys apps to servers</td>
<td>SCCM license + infrastructure</td>
</tr>
<tr>
<td><strong>Azure VMs that only need patches</strong></td>
<td>Azure Update Manager</td>
<td>Free, cloud-native, simpler</td>
<td>Free</td>
</tr>
<tr>
<td><strong>Windows 10/11 laptops/desktops</strong></td>
<td>Intune</td>
<td>Modern management, designed for endpoints</td>
<td>$6-8/device/month</td>
</tr>
<tr>
<td><strong>Hybrid environment during migration</strong></td>
<td>ALL OF THE ABOVE</td>
<td>Multi-year transition reality</td>
<td>Combined costs</td>
</tr>
</tbody>
</table>
<p><strong>The truth nobody tells you:</strong></p>
<p>You don't choose one tool. You use <strong>multiple tools based on workload requirements.</strong></p>
<h2>What Sales Teams Actually Say (And What They're Not Telling You)</h2>
<h3>Configuration Manager Sales Rep</h3>
<p><strong>What they say:</strong><br />
"Just keep using SCCM for everything, including Azure VMs."</p>
<p><strong>Why they say it:</strong><br />
They sell Configuration Manager licenses and consulting services.</p>
<p><strong>What they're not telling you:</strong><br />
- Azure Update Manager is free and simpler for Azure VMs that only need patching<br />
- SCCM requires infrastructure (SQL Server, site servers, distribution points) even in Azure<br />
- You're paying for features you might not need</p>
<p><strong>When they're right:</strong><br />
If your Azure VMs need complex application deployment, SCCM is the only option.</p>
<p><strong>When they're wrong:</strong><br />
If VMs only need patching, Azure Update Manager is simpler and free.</p>
<h3>Azure Architect</h3>
<p><strong>What they say:</strong><br />
"Use Azure Update Manager for everything, it's cloud-native."</p>
<p><strong>Why they say it:</strong><br />
They want you using Azure-native services, looks good on their cloud migration metrics.</p>
<p><strong>What they're not telling you:</strong><br />
- Azure Update Manager cannot deploy applications<br />
- On-prem servers require Azure Arc ($5/server/month)<br />
- Arc adds complexity for infrastructure that's not going away soon</p>
<p><strong>When they're right:</strong><br />
If you're Azure-only with simple patching needs, Update Manager is perfect.</p>
<p><strong>When they're wrong:</strong><br />
If you need app deployment or manage significant on-prem infrastructure.</p>
<h3>Modern Workplace Consultant</h3>
<p><strong>What they say:</strong><br />
"Move everything to Intune, retire SCCM."</p>
<p><strong>Why they say it:</strong><br />
Intune is the future, cloud-first strategy, "modern management."</p>
<p><strong>What they're not telling you:</strong><br />
- Intune is designed for endpoints (desktops, laptops), not servers<br />
- Server management features are limited<br />
- Can't replace SCCM for complex server workloads</p>
<p><strong>When they're right:</strong><br />
For Windows 10/11 desktops and laptops, Intune is absolutely the future.</p>
<p><strong>When they're wrong:</strong><br />
For Windows Servers or complex application deployments.</p>
<h2>The Real Enterprise Architecture</h2>
<p>Here's what large environments actually run during migration:</p>
<p><strong>Current State (Hybrid Infrastructure):</strong><br />
- SCCM managing all on-prem servers<br />
- SCCM managing some Azure VMs (that need app deployment)<br />
- Azure Update Manager starting to manage new Azure VMs (patching only)<br />
- WSUS still running (embedded in SCCM infrastructure)<br />
- Intune not deployed yet (future state for endpoints)</p>
<p><strong>Why this complexity exists:</strong><br />
- On-prem datacenters not going away immediately (2-5 year timeline)<br />
- Some Azure VMs need complex app deployment (SCCM required)<br />
- Some Azure VMs only need patching (Update Manager simpler)<br />
- Desktops/laptops modernization is separate project (Intune future)</p>
<p><strong>This is normal.</strong> Multi-year enterprise migrations require multiple tools.</p>
<h2>The Domain Join Decision (And Who Owns Patching)</h2>
<p>Here's the organizational mess nobody talks about: <strong>Who decides if new Azure VMs are domain-joined?</strong></p>
<p>This isn't a technical question. It's a <strong>political question</strong> that determines which team owns patching.</p>
<h3>The Technical Reality</h3>
<p><strong>SCCM and domain join:</strong><br />
- SCCM works best with domain-joined machines<br />
- <strong>Can</strong> manage workgroup (non-domain) machines, but with limitations:<br />
  - Client push installation doesn't work<br />
  - Automatic client approval doesn't work<br />
  - User-based application deployments don't work<br />
  - More complex authentication to distribution points<br />
- Most SCCM admins expect everything domain-joined</p>
<p><strong>Azure Update Manager and domain join:</strong><br />
- Works with domain-joined Azure VMs ‚úÖ<br />
- Works with Azure AD-joined VMs ‚úÖ<br />
- Works with workgroup VMs ‚úÖ<br />
- <strong>Domain join doesn't matter</strong> - uses Azure VM agent</p>
<p><strong>The decision:</strong><br />
When you create a new Azure VM, do you domain-join it to legacy Active Directory?</p>
<h3>The Organizational Conflict</h3>
<p><strong>Legacy AD/SCCM Model:</strong><br />
- AD team = SCCM team = Infrastructure team<br />
- Everything is domain-joined by default<br />
- SCCM manages all patching<br />
- Clear ownership: "SCCM team patches everything"<br />
- 20+ years of this model</p>
<p><strong>Cloud-Native Model:</strong><br />
- Azure team builds VMs<br />
- Cloud-first approach = Azure AD-joined or workgroup<br />
- No dependency on legacy AD<br />
- Azure Update Manager for patching<br />
- Different team, different tools</p>
<p><strong>The collision:</strong><br />
You're running <strong>both models simultaneously</strong> during migration.</p>
<h3>The Question Nobody Answers</h3>
<p><strong>Scenario:</strong> Azure team creates 50 new VMs for application migration.</p>
<p><strong>Question 1:</strong> Are these VMs domain-joined to legacy AD?</p>
<p><strong>If YES (domain-joined):</strong><br />
- SCCM can manage them<br />
- AD/SCCM team owns patching<br />
- Requires network connectivity to on-prem domain controllers<br />
- Perpetuates dependency on legacy infrastructure<br />
- SCCM team: "Great, we'll add them to our collections"</p>
<p><strong>If NO (Azure AD-joined or workgroup):</strong><br />
- SCCM has trouble managing them (or can't at all)<br />
- Azure team owns patching via Update Manager<br />
- Cloud-native, no AD dependency<br />
- Legacy SCCM team: "Wait, who's patching these?"</p>
<p><strong>Question 2:</strong> Who decides?</p>
<p><strong>Common answers (none good):</strong><br />
- "Whatever the app team wants" (inconsistent, chaos)<br />
- "Everything must be domain-joined" (Azure architect frustrated)<br />
- "Cloud-native only, no domain join" (SCCM team bypassed)<br />
- "We'll figure it out later" (spoiler: you won't)</p>
<h3>The Real Enterprise Scenario</h3>
<p><strong>What actually happens:</strong></p>
<p><strong>Phase 1 (Current):</strong><br />
- Some Azure VMs are domain-joined (legacy apps that require it)<br />
- Some Azure VMs are Azure AD-joined (cloud-native apps)<br />
- Some Azure VMs are workgroup (special cases)<br />
- <strong>Nobody has a clear policy</strong></p>
<p><strong>Who patches what:</strong><br />
- Domain-joined VMs: SCCM team patches via SCCM<br />
- Azure AD-joined VMs: Azure team patches via Update Manager<br />
- Workgroup VMs: "Uh... who owns these?"</p>
<p><strong>The governance gap:</strong><br />
- No clear decision framework<br />
- Each app migration handled case-by-case<br />
- Political battles between teams<br />
- Leadership doesn't understand the question</p>
<p><strong>The meeting that happens:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">Azure</span><span class="w"> </span><span class="n">Team</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;We built 50 VMs for the finance app migration.&quot;</span>

<span class="n">SCCM</span><span class="w"> </span><span class="n">Team</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;Are they domain-joined?&quot;</span>

<span class="n">Azure</span><span class="w"> </span><span class="n">Team</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;No, we used Azure AD join. They&#39;re cloud-native.&quot;</span>

<span class="n">SCCM</span><span class="w"> </span><span class="n">Team</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;Then who&#39;s patching them?&quot;</span>

<span class="n">Azure</span><span class="w"> </span><span class="n">Team</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;We set up Azure Update Manager.&quot;</span>

<span class="n">SCCM</span><span class="w"> </span><span class="n">Team</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;That&#39;s not our standard. Everything goes through SCCM.&quot;</span>

<span class="n">Azure</span><span class="w"> </span><span class="n">Team</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;But they&#39;re not domain-joined. SCCM can&#39;t manage them easily.&quot;</span>

<span class="n">SCCM</span><span class="w"> </span><span class="n">Team</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;Then domain-join them.&quot;</span>

<span class="n">Azure</span><span class="w"> </span><span class="n">Team</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;That defeats the purpose of cloud-native architecture.&quot;</span>

<span class="p">[</span><span class="n">Escalation</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">leadership</span><span class="p">]</span>

<span class="nl">Leadership</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Just... make it work? Can&#39;t you use both?&quot;</span>

<span class="p">[</span><span class="n">Everyone</span><span class="w"> </span><span class="n">sighs</span><span class="p">]</span>
</code></pre></div>

<h3>The Governance You Actually Need</h3>
<p><strong>Decision framework that works:</strong></p>
<table>
<thead>
<tr>
<th>Workload Type</th>
<th>Domain Join?</th>
<th>Patching Tool</th>
<th>Who Owns It</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Legacy apps requiring AD</strong></td>
<td>Domain-joined</td>
<td>SCCM</td>
<td>SCCM/AD Team</td>
</tr>
<tr>
<td><strong>Cloud-native apps</strong></td>
<td>Azure AD-joined</td>
<td>Azure Update Manager</td>
<td>Azure/Cloud Team</td>
</tr>
<tr>
<td><strong>Complex app deployment needs</strong></td>
<td>Domain-joined</td>
<td>SCCM</td>
<td>SCCM/AD Team</td>
</tr>
<tr>
<td><strong>Simple web/API servers</strong></td>
<td>Azure AD-joined or Workgroup</td>
<td>Azure Update Manager</td>
<td>Azure/Cloud Team</td>
</tr>
<tr>
<td><strong>On-prem servers</strong></td>
<td>Domain-joined</td>
<td>SCCM</td>
<td>SCCM/AD Team</td>
</tr>
</tbody>
</table>
<p><strong>Clear ownership:</strong><br />
- SCCM team owns all domain-joined infrastructure<br />
- Azure team owns all Azure AD-joined / workgroup infrastructure<br />
- No overlap, no confusion<br />
- Document the policy, enforce in governance</p>
<p><strong>What this requires:</strong><br />
- Leadership decision on default approach<br />
- Clear exceptions process<br />
- Both teams trained on their tools<br />
- Governance policy documented<br />
- Tags on VMs to indicate patching ownership</p>
<h3>The Tag Strategy</h3>
<p><strong>Use Azure tags to track ownership:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c"># When creating Azure VM, tag it</span>
<span class="nv">$tags</span> <span class="p">=</span> <span class="p">@{</span>
    <span class="s2">&quot;PatchManagement&quot;</span> <span class="p">=</span> <span class="s2">&quot;AzureUpdateManager&quot;</span>  <span class="c"># or &quot;SCCM&quot;</span>
    <span class="s2">&quot;PatchOwner&quot;</span> <span class="p">=</span> <span class="s2">&quot;AzureTeam&quot;</span>  <span class="c"># or &quot;SCCMTeam&quot;</span>
    <span class="s2">&quot;DomainJoin&quot;</span> <span class="p">=</span> <span class="s2">&quot;AzureAD&quot;</span>  <span class="c"># or &quot;LegacyAD&quot; or &quot;Workgroup&quot;</span>
<span class="p">}</span>

<span class="nb">New-AzVM</span> <span class="n">-ResourceGroupName</span> <span class="s2">&quot;rg-prod&quot;</span> <span class="p">`</span>
    <span class="n">-Name</span> <span class="s2">&quot;vm-app-001&quot;</span> <span class="p">`</span>
    <span class="n">-Tag</span> <span class="nv">$tags</span> <span class="p">`</span>
    <span class="c"># ... other parameters</span>
</code></pre></div>

<p><strong>Query ownership:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">Resources</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="s">&quot;microsoft.compute/virtualmachines&quot;</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">patchTool</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tags</span><span class="p">[</span><span class="s">&quot;PatchManagement&quot;</span><span class="p">]</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">patchOwner</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tags</span><span class="p">[</span><span class="s">&quot;PatchOwner&quot;</span><span class="p">]</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">domainJoin</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tags</span><span class="p">[</span><span class="s">&quot;DomainJoin&quot;</span><span class="p">]</span>
<span class="p">|</span><span class="w"> </span><span class="k">summarize</span><span class="w"> </span><span class="n">Count</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">count</span><span class="p">()</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">patchTool</span><span class="p">,</span><span class="w"> </span><span class="n">patchOwner</span>
<span class="p">|</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">Count</span><span class="w"> </span><span class="n">desc</span>
</code></pre></div>

<p><strong>This gives you visibility:</strong><br />
- How many VMs each team owns<br />
- What domain join strategy you're using<br />
- Clear accountability</p>
<h3>Why MVPs Don't Talk About This</h3>
<p>MVPs focus on <strong>technical capabilities</strong>, not <strong>organizational politics</strong>.</p>
<p><strong>They'll tell you:</strong><br />
- "SCCM can manage workgroup machines" (technically true)<br />
- "Azure Update Manager works with any join type" (technically true)<br />
- "Use the best tool for the workload" (technically correct)</p>
<p><strong>They won't tell you:</strong><br />
- How to decide domain join strategy across hundreds of VMs<br />
- Who makes the decision when teams disagree<br />
- How to handle the SCCM team that wants everything domain-joined<br />
- How to handle the Azure team that wants cloud-native everything<br />
- What governance policy actually looks like</p>
<p><strong>Because MVPs aren't dealing with:</strong><br />
- Team politics and ownership battles<br />
- Legacy AD teams protecting their territory<br />
- Cloud teams frustrated by legacy dependencies<br />
- Leadership that doesn't understand the question<br />
- Multi-year transitions with both models running simultaneously</p>
<p><strong>You are.</strong> This is the operational reality.</p>
<h3>The Bottom Line on Domain Join</h3>
<p><strong>Technical truth:</strong><br />
Both SCCM and Azure Update Manager can work with various join types.</p>
<p><strong>Organizational truth:</strong><br />
Domain join decision determines <strong>which team owns patching</strong>, which creates political friction during migration.</p>
<p><strong>What you need:</strong><br />
- Clear decision framework (documented)<br />
- Leadership buy-in on default approach<br />
- Exceptions process for special cases<br />
- Tags for tracking ownership<br />
- Both teams trained on their respective tools<br />
- Governance policy that everyone follows</p>
<p><strong>Stop pretending it's purely technical.</strong> It's <strong>organizational</strong>, and that's why it's hard.</p>
<h2>The Hidden Dependency: SCCM Requires WSUS</h2>
<p><strong>The misconception:</strong><br />
"SCCM does patching, so I don't need WSUS."</p>
<p><strong>The reality:</strong><br />
SCCM doesn't patch by itself. It uses WSUS as the backend update source.</p>
<p><strong>The architecture:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c"># SCCM architecture for patching</span>
<span class="n">SCCM</span> <span class="n">Site</span> <span class="n">Server</span>
    <span class="err">‚Üì</span>
<span class="n">Software</span> <span class="n">Update</span> <span class="n">Point</span> <span class="p">(</span><span class="n">SUP</span><span class="p">)</span> <span class="n">role</span>
    <span class="err">‚Üì</span>
<span class="n">WSUS</span> <span class="n">Server</span> <span class="p">(</span><span class="n">backend</span><span class="p">)</span>
    <span class="err">‚Üì</span>
<span class="n">SCCM</span> <span class="n">Clients</span> <span class="n">get</span> <span class="n">updates</span> <span class="n">via</span> <span class="n">WSUS</span>
</code></pre></div>

<p><strong>What this means:</strong><br />
- Installing SCCM requires installing/configuring WSUS<br />
- WSUS downloads updates from Microsoft<br />
- SCCM manages which updates get approved/deployed<br />
- SCCM clients scan against WSUS for compliance<br />
- You can't "just use SCCM" - WSUS is always there</p>
<p><strong>Verify WSUS is running:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c"># Check if WSUS role is installed</span>
<span class="nb">Get-WindowsFeature</span> <span class="n">-Name</span> <span class="n">UpdateServices</span>

<span class="c"># Check WSUS service status</span>
<span class="nb">Get-Service</span> <span class="n">-Name</span> <span class="n">WsusService</span>

<span class="c"># View WSUS content location</span>
<span class="nb">Get-WsusServer</span> <span class="p">|</span> <span class="nb">Select-Object</span> <span class="n">Name</span><span class="p">,</span> <span class="n">PortNumber</span><span class="p">,</span> <span class="n">ServerProtocolVersion</span>
</code></pre></div>

<p><strong>The bottom line:</strong><br />
If someone says "migrate from WSUS to SCCM," they don't understand the architecture. SCCM includes WSUS.</p>
<h2>Azure Update Manager: What It Can't Do</h2>
<p>Microsoft's marketing makes Azure Update Manager sound comprehensive. Here's what it <strong>cannot</strong> do:</p>
<h3>Cannot Deploy Applications</h3>
<p><strong>The scenario:</strong><br />
You need to deploy a custom application to 50 Azure VMs.</p>
<p><strong>SCCM:</strong> ‚úÖ Can do this (application deployment feature)</p>
<p><strong>Azure Update Manager:</strong> ‚ùå Cannot do this (patching only)</p>
<p><strong>Your options:</strong><br />
- Use SCCM (requires infrastructure)<br />
- Use Azure VM extensions (limited, no complex workflows)<br />
- Manual deployment (doesn't scale)</p>
<h3>Cannot Image/Deploy Operating Systems</h3>
<p><strong>The scenario:</strong><br />
You need to deploy 20 new Windows Server VMs with custom configuration.</p>
<p><strong>SCCM:</strong> ‚úÖ Can do this (OS deployment feature)</p>
<p><strong>Azure Update Manager:</strong> ‚ùå Cannot do this (patching only)</p>
<p><strong>Your options:</strong><br />
- Use SCCM<br />
- Use Azure VM Image Gallery<br />
- Use Packer/custom images</p>
<h3>Cannot Manage On-Prem Without Azure Arc</h3>
<p><strong>The scenario:</strong><br />
You have 500 on-prem servers that need patching.</p>
<p><strong>SCCM:</strong> ‚úÖ Can manage them (designed for on-prem)</p>
<p><strong>Azure Update Manager:</strong> ‚ö†Ô∏è Requires Azure Arc ($5/server/month)</p>
<p><strong>The math:</strong><br />
- 500 servers √ó $5/month = $2,500/month = $30,000/year<br />
- Just to enable patching via Update Manager<br />
- SCCM is cheaper if you already have it</p>
<h3>Cannot Do Complex Orchestration</h3>
<p><strong>The scenario:</strong><br />
Patch server 1, then server 2, then restart application service on server 3, with 10-minute waits between each step.</p>
<p><strong>SCCM:</strong> ‚úÖ Can do this (orchestration groups, pre/post scripts)</p>
<p><strong>Azure Update Manager:</strong> ‚ùå Cannot do this (basic maintenance windows only)</p>
<p><strong>Reality check:</strong><br />
Azure Update Manager is <strong>patching only</strong>. If you need anything beyond "install updates and reboot," you need SCCM or custom automation.</p>
<h2>When You Can Actually Ditch SCCM</h2>
<p><strong>Sales pitch:</strong><br />
"Migrate to Azure Update Manager and Intune, retire SCCM."</p>
<p><strong>Reality check:</strong><br />
You can retire SCCM when ALL of these are true:</p>
<p>‚úÖ All on-prem servers migrated to Azure or decommissioned<br />
‚úÖ No Azure VMs require complex application deployment<br />
‚úÖ All desktops/laptops migrated to Intune<br />
‚úÖ No custom OS imaging requirements<br />
‚úÖ No complex orchestration needs</p>
<p><strong>Timeline for most enterprises:</strong><br />
- Year 1: Start using Azure Update Manager for new Azure VMs<br />
- Year 2-3: Continue hybrid (SCCM + Update Manager)<br />
- Year 3-5: Decommission on-prem datacenters<br />
- Year 5+: Finally retire SCCM infrastructure</p>
<p><strong>This is NOT a quick project.</strong></p>
<h2>The "Can't I Use Both SCCM and Azure Update Manager?" Question</h2>
<p><strong>Short answer:</strong> Technically yes, but not recommended without clear separation.</p>
<p><strong>The problem:</strong><br />
Both SCCM and Azure Update Manager try to control the Windows Update Agent on the same server.</p>
<p><strong>What happens:</strong><br />
- Conflicting policies<br />
- Updates installed twice<br />
- Unpredictable behavior<br />
- Compliance reporting confusion</p>
<p><strong>Supported approach:</strong><br />
- SCCM manages on-prem servers<br />
- Azure Update Manager manages Azure-only VMs<br />
- Clear boundaries, no overlap</p>
<p><strong>Microsoft's guidance:</strong><br />
"Azure Update Manager and SCCM should not patch the same server simultaneously."</p>
<p><strong>What this means:</strong><br />
Pick one tool per server. Don't try to use both.</p>
<h2>PowerShell: Check What's Managing Your VMs</h2>
<p><strong>Check if VM is managed by SCCM:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c"># Check for SCCM client</span>
<span class="nv">$sccmClient</span> <span class="p">=</span> <span class="nb">Get-WmiObject</span> <span class="n">-Namespace</span> <span class="s2">&quot;root\ccm&quot;</span> <span class="n">-Class</span> <span class="n">SMS_Client</span> <span class="n">-ErrorAction</span> <span class="n">SilentlyContinue</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$sccmClient</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;‚úì SCCM Client installed&quot;</span> <span class="n">-ForegroundColor</span> <span class="n">Green</span>

    <span class="c"># Get SCCM site code</span>
    <span class="nv">$siteCode</span> <span class="p">=</span> <span class="p">(</span><span class="nb">Get-WmiObject</span> <span class="n">-Namespace</span> <span class="s2">&quot;root\ccm&quot;</span> <span class="n">-Class</span> <span class="n">SMS_Authority</span><span class="p">).</span><span class="n">CurrentManagementPoint</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;  Site Code: $siteCode&quot;</span>

    <span class="c"># Check last policy update</span>
    <span class="nv">$lastPolicy</span> <span class="p">=</span> <span class="p">(</span><span class="nb">Get-WmiObject</span> <span class="n">-Namespace</span> <span class="s2">&quot;root\ccm&quot;</span> <span class="n">-Class</span> <span class="n">CCM_PolicyAgent_Configuration</span><span class="p">).</span><span class="n">LastUpdateTime</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;  Last Policy Update: $lastPolicy&quot;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;‚úó SCCM Client not installed&quot;</span> <span class="n">-ForegroundColor</span> <span class="n">Yellow</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Check Windows Update source:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c"># Check if using WSUS</span>
<span class="nv">$wuServer</span> <span class="p">=</span> <span class="p">(</span><span class="nb">Get-ItemProperty</span> <span class="n">-Path</span> <span class="s2">&quot;HKLM:\SOFTWARE\Policies\Microsoft\Windows\WindowsUpdate&quot;</span> <span class="n">-Name</span> <span class="s2">&quot;WUServer&quot;</span> <span class="n">-ErrorAction</span> <span class="n">SilentlyContinue</span><span class="p">).</span><span class="n">WUServer</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$wuServer</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;‚úì WSUS configured&quot;</span> <span class="n">-ForegroundColor</span> <span class="n">Green</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;  WSUS Server: $wuServer&quot;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;‚úì Using Microsoft Update directly&quot;</span> <span class="n">-ForegroundColor</span> <span class="n">Green</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Check if Azure Update Manager is enabled:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c"># Check for Azure VM agent</span>
<span class="nv">$azureAgent</span> <span class="p">=</span> <span class="nb">Get-Service</span> <span class="n">-Name</span> <span class="s2">&quot;WindowsAzureGuestAgent&quot;</span> <span class="n">-ErrorAction</span> <span class="n">SilentlyContinue</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$azureAgent</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;‚úì Azure VM Agent installed&quot;</span> <span class="n">-ForegroundColor</span> <span class="n">Green</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;  Status: </span><span class="p">$(</span><span class="nv">$azureAgent</span><span class="p">.</span><span class="n">Status</span><span class="p">)</span><span class="s2">&quot;</span>
<span class="p">}</span>

<span class="c"># Check automatic update settings</span>
<span class="nv">$autoUpdate</span> <span class="p">=</span> <span class="p">(</span><span class="nb">Get-ItemProperty</span> <span class="n">-Path</span> <span class="s2">&quot;HKLM:\SOFTWARE\Policies\Microsoft\Windows\WindowsUpdate\AU&quot;</span> <span class="n">-Name</span> <span class="s2">&quot;NoAutoUpdate&quot;</span> <span class="n">-ErrorAction</span> <span class="n">SilentlyContinue</span><span class="p">).</span><span class="n">NoAutoUpdate</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$autoUpdate</span> <span class="o">-eq</span> <span class="n">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;  Automatic updates: Disabled (likely managed by SCCM)&quot;</span> <span class="n">-ForegroundColor</span> <span class="n">Yellow</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;  Automatic updates: Enabled (likely Azure Update Manager)&quot;</span> <span class="n">-ForegroundColor</span> <span class="n">Green</span>
<span class="p">}</span>
</code></pre></div>

<h2>KQL: Find VMs by Patch Management Tool</h2>
<p><strong>Find Azure VMs without SCCM client:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">Resources</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="s">&quot;microsoft.compute/virtualmachines&quot;</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">vmId</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tolower</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">powerState</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">properties</span><span class="err">.</span><span class="n">extended</span><span class="err">.</span><span class="n">instanceView</span><span class="err">.</span><span class="n">powerState</span><span class="err">.</span><span class="n">displayStatus</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">powerState</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="s">&quot;VM running&quot;</span>
<span class="p">|</span><span class="w"> </span><span class="k">project</span><span class="w"> </span><span class="n">vmName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">resourceGroup</span><span class="p">,</span><span class="w"> </span><span class="n">location</span><span class="p">,</span><span class="w"> </span><span class="n">vmId</span>
<span class="c">// Add your logic to check for SCCM client via extensions or tags</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">tags</span><span class="p">[</span><span class="s">&quot;PatchManagement&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">!=</span><span class="w"> </span><span class="s">&quot;SCCM&quot;</span>
<span class="p">|</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">vmName</span><span class="w"> </span><span class="n">asc</span>
</code></pre></div>

<p><strong>Find VMs by update compliance:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c">// Query from Azure Update Manager</span>
<span class="n">PatchAssessmentResources</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="s">&quot;microsoft.compute/virtualmachines/patchassessmentresults&quot;</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">vmId</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tolower</span><span class="p">(</span><span class="n">split</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;/patchAssessmentResults&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">osType</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">properties</span><span class="err">.</span><span class="n">osType</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">criticalUpdates</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">properties</span><span class="err">.</span><span class="n">criticalAndSecurityPatchCount</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">otherUpdates</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">properties</span><span class="err">.</span><span class="n">otherPatchCount</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">lastAssessment</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">properties</span><span class="err">.</span><span class="n">lastModifiedDateTime</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">criticalUpdates</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">otherUpdates</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">0</span>
<span class="p">|</span><span class="w"> </span><span class="k">project</span><span class="w"> </span><span class="n">vmId</span><span class="p">,</span><span class="w"> </span><span class="n">osType</span><span class="p">,</span><span class="w"> </span><span class="n">criticalUpdates</span><span class="p">,</span><span class="w"> </span><span class="n">otherUpdates</span><span class="p">,</span><span class="w"> </span><span class="n">lastAssessment</span>
<span class="p">|</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">criticalUpdates</span><span class="w"> </span><span class="n">desc</span><span class="p">,</span><span class="w"> </span><span class="n">otherUpdates</span><span class="w"> </span><span class="n">desc</span>
</code></pre></div>

<p><strong>Find servers needing Azure Update Manager onboarding:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">Resources</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="s">&quot;microsoft.compute/virtualmachines&quot;</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">powerState</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">properties</span><span class="err">.</span><span class="n">extended</span><span class="err">.</span><span class="n">instanceView</span><span class="err">.</span><span class="n">powerState</span><span class="err">.</span><span class="n">displayStatus</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">powerState</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="s">&quot;VM running&quot;</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">osType</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">properties</span><span class="err">.</span><span class="n">storageProfile</span><span class="err">.</span><span class="n">osDisk</span><span class="err">.</span><span class="n">osType</span>
<span class="p">|</span><span class="w"> </span><span class="k">extend</span><span class="w"> </span><span class="n">patchMode</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">properties</span><span class="err">.</span><span class="n">osProfile</span><span class="err">.</span><span class="n">windowsConfiguration</span><span class="err">.</span><span class="n">patchSettings</span><span class="err">.</span><span class="n">patchMode</span>
<span class="p">|</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">patchMode</span><span class="w"> </span><span class="p">!=</span><span class="w"> </span><span class="s">&quot;AutomaticByPlatform&quot;</span><span class="w"> </span><span class="c">// Not using Azure Update Manager</span>
<span class="p">|</span><span class="w"> </span><span class="k">project</span><span class="w"> </span>
<span class="w">    </span><span class="n">vmName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">name</span><span class="p">,</span>
<span class="w">    </span><span class="n">resourceGroup</span><span class="p">,</span>
<span class="w">    </span><span class="n">location</span><span class="p">,</span>
<span class="w">    </span><span class="n">osType</span><span class="p">,</span>
<span class="w">    </span><span class="n">currentPatchMode</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">patchMode</span><span class="p">,</span>
<span class="w">    </span><span class="n">subscriptionId</span>
<span class="p">|</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">vmName</span><span class="w"> </span><span class="n">asc</span>
</code></pre></div>

<h2>The Real Cost Comparison</h2>
<p><strong>Scenario: 500 servers that need patching</strong></p>
<h3>Option 1: SCCM (Already Deployed)</h3>
<p><strong>Costs:</strong><br />
- License: Included in EA (or ~$60/device)<br />
- Infrastructure: SQL Server, site servers, distribution points (already deployed)<br />
- Labor: Dedicated SCCM admin team<br />
- Total: Infrastructure costs already sunk</p>
<p><strong>Capabilities:</strong><br />
- ‚úÖ Patching<br />
- ‚úÖ Application deployment<br />
- ‚úÖ OS imaging<br />
- ‚úÖ Complex orchestration</p>
<h3>Option 2: Azure Update Manager (Cloud-Only VMs)</h3>
<p><strong>Costs:</strong><br />
- License: Free for Azure VMs<br />
- Infrastructure: None<br />
- Labor: Minimal (configure policies)<br />
- Total: <strong>Free</strong></p>
<p><strong>Capabilities:</strong><br />
- ‚úÖ Patching<br />
- ‚ùå Application deployment<br />
- ‚ùå OS imaging<br />
- ‚ùå Complex orchestration</p>
<h3>Option 3: Azure Update Manager + Arc (Hybrid)</h3>
<p><strong>Costs:</strong><br />
- License: Free for Azure VMs, $5/month for Arc-enabled on-prem<br />
- On-prem: 300 servers √ó $5/month = $1,500/month = <strong>$18,000/year</strong><br />
- Infrastructure: None (cloud service)<br />
- Labor: Arc deployment + maintenance<br />
- Total: <strong>$18,000/year + Arc deployment labor</strong></p>
<p><strong>Capabilities:</strong><br />
- ‚úÖ Patching (Azure + on-prem)<br />
- ‚ùå Application deployment<br />
- ‚ùå OS imaging<br />
- ‚ùå Complex orchestration</p>
<h3>Option 4: Keep SCCM + Add Azure Update Manager</h3>
<p><strong>Costs:</strong><br />
- SCCM: Existing infrastructure costs<br />
- Azure Update Manager: Free for Azure VMs<br />
- Total: SCCM costs (already paid)</p>
<p><strong>Capabilities:</strong><br />
- ‚úÖ Patching (both tools)<br />
- ‚úÖ Application deployment (SCCM)<br />
- ‚úÖ OS imaging (SCCM)<br />
- ‚úÖ Complex orchestration (SCCM)</p>
<p><strong>Reality check:</strong><br />
Option 4 is what most enterprises actually do during multi-year transitions.</p>
<h2>The Timeline Nobody Tells You</h2>
<p><strong>Sales pitch:</strong><br />
"Migrate to Azure Update Manager and retire SCCM in 6 months."</p>
<p><strong>Operational reality:</strong></p>
<h3>Year 1: Add Azure Update Manager</h3>
<ul>
<li>Deploy Azure Update Manager policies</li>
<li>Enable for NEW Azure VMs only</li>
<li>SCCM still manages all on-prem + existing Azure VMs</li>
<li>Team learns Azure Update Manager</li>
</ul>
<h3>Year 2-3: Hybrid State</h3>
<ul>
<li>Azure Update Manager manages growing number of Azure VMs</li>
<li>SCCM manages shrinking on-prem infrastructure</li>
<li>Complex apps still require SCCM (no replacement)</li>
<li>Both tools running simultaneously</li>
</ul>
<h3>Year 3-5: On-Prem Decommission</h3>
<ul>
<li>Migrate remaining on-prem servers to Azure</li>
<li>Some Azure VMs still need SCCM (app deployment)</li>
<li>Most Azure VMs now on Update Manager</li>
<li>On-prem datacenters shut down</li>
</ul>
<h3>Year 5+: SCCM Retirement</h3>
<ul>
<li>Last SCCM-managed servers migrated</li>
<li>SCCM infrastructure decommissioned</li>
<li>Azure Update Manager for servers</li>
<li>Intune for endpoints</li>
</ul>
<p><strong>This is NOT a fast migration.</strong> Plan 3-5 years minimum for large enterprises.</p>
<h2>What About Intune Co-Management?</h2>
<p><strong>Microsoft's compromise:</strong><br />
"Use SCCM + Intune together with co-management!"</p>
<p><strong>What co-management is:</strong><br />
- ConfigMgr manages some workloads (apps, updates)<br />
- Intune manages other workloads (compliance, conditional access)<br />
- Both agents on same device</p>
<p><strong>When it makes sense:</strong><br />
- Gradual transition from SCCM to Intune<br />
- Keep SCCM for complex apps<br />
- Move simple workloads to Intune<br />
- Multi-year migration strategy</p>
<p><strong>When it's complicated:</strong><br />
- Two management systems to maintain<br />
- Two sets of policies to configure<br />
- Potential conflicts between SCCM and Intune<br />
- Team needs training on both platforms</p>
<p><strong>Reality:</strong><br />
Co-management is a <strong>transition state</strong>, not an end state. It buys you time during migration.</p>
<h2>The Question Leadership Asks</h2>
<p><strong>"When can we decommission SCCM and save money?"</strong></p>
<p><strong>The answer they don't want to hear:</strong><br />
"When we decommission the last on-prem server."</p>
<p><strong>Why:</strong><br />
- SCCM infrastructure (SQL, site servers, DPs) costs money<br />
- If you have <strong>1 on-prem server</strong> requiring SCCM, you need the whole stack<br />
- Can't shut down SCCM until everything moves to cloud or Intune</p>
<p><strong>The financial reality:</strong><br />
- SCCM infrastructure: $X/year<br />
- Need it for 1 server or 1,000 servers (same infrastructure)<br />
- Can't reduce costs until <strong>complete</strong> migration</p>
<p><strong>Timeline:</strong><br />
- On-prem datacenter shutdown: 3-5 years<br />
- SCCM retirement: After datacenter shutdown<br />
- Cost savings: Not until Year 5+</p>
<p><strong>What you can do sooner:</strong><br />
- Reduce SCCM complexity (fewer site servers, smaller SQL)<br />
- Start using Azure Update Manager for new Azure VMs (free)<br />
- Move endpoints to Intune (different project)</p>
<h2>The Bottom Line</h2>
<p>Microsoft has 4 patching solutions because enterprises are complicated.</p>
<p><strong>The tools:</strong><br />
- WSUS: Legacy, manual, free (embedded in SCCM)<br />
- SCCM: Enterprise management, requires WSUS, expensive<br />
- Azure Update Manager: Cloud-native, patching only, free<br />
- Intune: Modern endpoints, cloud-based, subscription cost</p>
<p><strong>Sales teams will tell you:</strong><br />
- "Use one solution for everything!"<br />
- "Migrate immediately!"<br />
- "Azure Update Manager replaces SCCM!"</p>
<p><strong>Operational reality:</strong><br />
- You need <strong>multiple tools</strong> based on workload<br />
- SCCM doesn't disappear until on-prem does<br />
- Azure Update Manager is great for simple patching<br />
- Intune is for endpoints, not servers<br />
- Plan <strong>3-5 years</strong> for full transition</p>
<p><strong>Stop asking "which tool should I use?"</strong></p>
<p><strong>Start asking: "Which tool for THIS workload?"</strong></p>
<hr />
<h2>Quick Reference: Decision Tree</h2>
<div class="codehilite"><pre><span></span><code><span class="n">Is</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">Windows</span><span class="w"> </span><span class="mi">10</span><span class="o">/</span><span class="mi">11</span><span class="w"> </span><span class="n">desktop</span><span class="o">/</span><span class="n">laptop</span><span class="err">?</span>
<span class="w">    </span><span class="err">‚îú‚îÄ</span><span class="w"> </span><span class="n">YES</span><span class="w"> </span><span class="err">‚Üí</span><span class="w"> </span><span class="n">Use</span><span class="w"> </span><span class="n">Intune</span>
<span class="w">    </span><span class="err">‚îî‚îÄ</span><span class="w"> </span><span class="n">NO</span><span class="w"> </span><span class="err">‚Üí</span><span class="w"> </span><span class="n">Continue</span>

<span class="n">Is</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">Windows</span><span class="w"> </span><span class="n">Server</span><span class="err">?</span>
<span class="w">    </span><span class="err">‚îú‚îÄ</span><span class="w"> </span><span class="n">YES</span><span class="w"> </span><span class="err">‚Üí</span><span class="w"> </span><span class="n">Continue</span>
<span class="w">    </span><span class="err">‚îî‚îÄ</span><span class="w"> </span><span class="n">NO</span><span class="w"> </span><span class="err">‚Üí</span><span class="w"> </span><span class="n">Check</span><span class="w"> </span><span class="n">OS</span><span class="o">-</span><span class="n">specific</span><span class="w"> </span><span class="n">tools</span>

<span class="n">Does</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">complex</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">deployment</span><span class="err">?</span>
<span class="w">    </span><span class="err">‚îú‚îÄ</span><span class="w"> </span><span class="n">YES</span><span class="w"> </span><span class="err">‚Üí</span><span class="w"> </span><span class="n">Use</span><span class="w"> </span><span class="n">SCCM</span>
<span class="w">    </span><span class="err">‚îî‚îÄ</span><span class="w"> </span><span class="n">NO</span><span class="w"> </span><span class="err">‚Üí</span><span class="w"> </span><span class="n">Continue</span>

<span class="n">Is</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">Azure</span><span class="err">?</span>
<span class="w">    </span><span class="err">‚îú‚îÄ</span><span class="w"> </span><span class="n">YES</span><span class="w"> </span><span class="err">‚Üí</span><span class="w"> </span><span class="n">Use</span><span class="w"> </span><span class="n">Azure</span><span class="w"> </span><span class="n">Update</span><span class="w"> </span><span class="n">Manager</span><span class="w"> </span><span class="p">(</span><span class="n">free</span><span class="p">)</span>
<span class="w">    </span><span class="err">‚îî‚îÄ</span><span class="w"> </span><span class="n">NO</span><span class="w"> </span><span class="p">(</span><span class="n">on</span><span class="o">-</span><span class="n">prem</span><span class="p">)</span><span class="w"> </span><span class="err">‚Üí</span><span class="w"> </span><span class="n">Use</span><span class="w"> </span><span class="n">SCCM</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">Arc</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Update</span><span class="w"> </span><span class="n">Manager</span><span class="w"> </span><span class="p">(</span><span class="o">$$$</span><span class="p">)</span>

<span class="n">Are</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">multi</span><span class="o">-</span><span class="n">year</span><span class="w"> </span><span class="n">migration</span><span class="err">?</span>
<span class="w">    </span><span class="err">‚îî‚îÄ</span><span class="w"> </span><span class="n">YES</span><span class="w"> </span><span class="err">‚Üí</span><span class="w"> </span><span class="n">Use</span><span class="w"> </span><span class="n">ALL</span><span class="w"> </span><span class="n">tools</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">workload</span><span class="w"> </span><span class="p">(</span><span class="n">normal</span><span class="p">)</span>
</code></pre></div>

<hr />
<h2>Resources</h2>
<p><strong>Microsoft Official Docs:</strong><br />
- <a href="https://learn.microsoft.com/en-us/azure/update-manager/">Azure Update Manager Overview</a><br />
- <a href="https://learn.microsoft.com/en-us/mem/configmgr/">Configuration Manager Documentation</a><br />
- <a href="https://learn.microsoft.com/en-us/mem/intune/">Intune Documentation</a><br />
- <a href="https://learn.microsoft.com/en-us/windows-server/administration/windows-server-update-services/get-started/windows-server-update-services-wsus">WSUS Documentation</a></p>
<p><strong>Migration Guidance:</strong><br />
- <a href="https://learn.microsoft.com/en-us/azure/update-manager/guidance-migration-azure">Migrate from SCCM to Azure Update Manager</a><br />
- <a href="https://learn.microsoft.com/en-us/mem/configmgr/comanage/overview">Co-management with Intune</a></p>
<p><strong>Related Posts:</strong><br />
- <a href="/blog/azure-vm-automation-dependency-hell/">Azure VM Automation Dependency Hell</a> - Chocolatey vs winget automation challenges<br />
- <a href="/blog/azure-scripts-break-server-2025/">PowerShell Scripts Break on Server 2025</a> - ISE vs PowerShell 7 for Azure automation<br />
- <a href="/blog/azure-debugging-ai-rule/">The 3 Hour Debugging Rule</a> - When to stop debugging and open Microsoft support</p>
<hr />
<p><em>Managing enterprise Azure patching strategy? This is the operational reality nobody documents. If this helped clarify the confusion, share it with your team - they're probably asking the same questions.</em></p>
  </div>

  
  
  <aside class="related-posts" style="max-width: 800px; margin: 3rem auto; padding: 2rem; background: var(--bg-light); border-radius: 12px;">
    <h3 style="margin-top: 0;">Related Posts</h3>
    <ul style="list-style: none; padding: 0;">
      
      <li style="margin: 1rem 0;">
        <a href="../kql-query-library-git/index.html" style="display: block; padding: 1rem; background: white; border-radius: 8px; border: 1px solid var(--border); transition: all 0.2s ease;">
          <span class="related-title" style="font-weight: 700; display: block; color: var(--text-dark);">Stop Losing Your KQL Queries: The Git-Based Query Library Nobody Told You About</span>
          <span class="related-meta" style="color: var(--text-muted); font-size: 0.9rem;">2025-10-28</span>
        </a>
      </li>
      
      <li style="margin: 1rem 0;">
        <a href="../migrating-my-avd-win10-to-win11-512gb/index.html" style="display: block; padding: 1rem; background: white; border-radius: 8px; border: 1px solid var(--border); transition: all 0.2s ease;">
          <span class="related-title" style="font-weight: 700; display: block; color: var(--text-dark);">I Migrated My Own Azure Virtual Desktop to Windows 11 with 512GB Disk Space</span>
          <span class="related-meta" style="color: var(--text-muted); font-size: 0.9rem;">2025-10-28</span>
        </a>
      </li>
      
      <li style="margin: 1rem 0;">
        <a href="../tenable-says-remove-dotnet6/index.html" style="display: block; padding: 1rem; background: white; border-radius: 8px; border: 1px solid var(--border); transition: all 0.2s ease;">
          <span class="related-title" style="font-weight: 700; display: block; color: var(--text-dark);">Security Found .NET 6 on 47 VMs. Now I&#39;m Supposed to Remove It. Here&#39;s Why That&#39;s Impossible.</span>
          <span class="related-meta" style="color: var(--text-muted); font-size: 0.9rem;">2025-10-27</span>
        </a>
      </li>
      
    </ul>
  </aside>
  

  
  <nav class="post-nav">
    
      <a href="../azure-debugging-ai-rule/index.html">
        <span style="opacity: 0.7; font-size: 0.85rem; display: block; margin-bottom: 0.25rem;">‚Üê Previous</span>
        <strong>The New Azure Debugging Rule: When AI Says &#39;I Don&#39;t Know&#39;</strong>
      </a>
    
    
      <a href="../azure-console-button-lie/index.html" style="text-align: right;">
        <span style="opacity: 0.7; font-size: 0.85rem; display: block; margin-bottom: 0.25rem;">Next ‚Üí</span>
        <strong>The Azure Console Button Is a Lie (And You Don&#39;t Need AMA)</strong>
      </a>
    
  </nav>

</article>

    </div>
  </main>

  <!-- EMAIL CAPTURE SECTION -->
  <section class="email-signup" id="subscribe">
    <div class="wrap">
      <h3>Get Azure tips in your inbox</h3>
      <p>Join Azure pros getting practical KQL queries, cost optimization tips, and real-world solutions.</p>
      <script async data-uid="3dfad5c743" src="https://azure-noob.kit.com/3dfad5c743/index.js"></script>
    </div>
  </section>

  <footer class="site-footer">
    <div class="wrap">
      <p>&copy; 2025 Azure Noob ‚Äî Don&#39;t be a Noob</p>
    </div>
  </footer>

  <!-- Copy code functionality -->
  <script src="../../static/copy-code.js"></script>
</body>
</html>